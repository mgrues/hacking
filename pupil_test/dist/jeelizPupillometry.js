 /**
 * Jeeliz Pupillometry - https://github.com/jeeliz/jeelizPupillometry
 *
 * Copyright 2018 Jeeliz ( https://jeeliz.com )
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
*/

var JEEPUPILAPI=(function(){function ka(b,d,f){return b*(1-f)+d*f}function ua(b,d){var f=new XMLHttpRequest;f.open("GET",b,!0);f.withCredentials=!1;f.onreadystatechange=function(){4!==f.readyState||200!==f.status&&0!==f.status||d(f.responseText)};f.send()}function va(b,d,f){return Math.min(Math.max((f-b)/(d-b),0),1)}
function za(b){switch(b){case "relu":return"gl_FragColor=max(vec4(0.,0.,0.,0.),gl_FragColor);";case "elu":return"gl_FragColor=mix(exp(-abs(gl_FragColor))-vec4(1.,1.,1.,1.),gl_FragColor,step(0.,gl_FragColor));";case "elu01":return"gl_FragColor=mix(0.1*exp(-abs(gl_FragColor))-vec4(0.1,0.1,0.1,0.1),gl_FragColor,step(0.,gl_FragColor));";case "arctan":return"gl_FragColor=atan(3.14159265359*texture2D(u0,vUV))/3.14159265359;";case "copy":return"";default:return!1}}
function Da(b,d){var f=d%8;return b[(d-f)/8]>>7-f&1}
function Fa(b){var d=JSON.parse(b);b=d.ne;var f=d.nf,h=d.n;var t="undefined"===typeof btoa?Buffer.from(d.data,"base64").toString("latin1"):atob(d.data);var u=t.length;d=new Uint8Array(u);for(var l=0;l<u;++l)d[l]=t.charCodeAt(l);t=new Float32Array(h);u=new Float32Array(f);l=b+f+1;for(var r=0;r<h;++r){for(var e=l*r,z=0===Da(d,e)?1:-1,C=e+1,g=1,A=0,k=C+b-1;k>=C;--k)A+=g*Da(d,k),g*=2;C=A;e=e+1+b;g=u.length;A=0;for(k=e;k<e+g;++k)u[A]=Da(d,k),++A;for(g=e=0;g<f;++g)e+=u[g]*Math.pow(2,-g-1);t[r]=0===e&&0===
C?0:z*(1+e)*Math.pow(2,1+C-Math.pow(2,b-1))}return t}
var w=function(){function b(v,n,E){n=v.createShader(n);v.shaderSource(n,E);v.compileShader(n);return v.getShaderParameter(n,v.COMPILE_STATUS)?n:!1}function d(v,n,E){n=b(v,v.VERTEX_SHADER,n);E=b(v,v.FRAGMENT_SHADER,E);v===a&&l.push(n,E);var P=v.createProgram();v.attachShader(P,n);v.attachShader(P,E);v.linkProgram(P);return P}function f(v,n){void 0===n.aa&&(n.aa="precision lowp float;attribute vec2 a0;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=a0*.5+vec2(.5,.5);}");void 0===n.ka&&(n.ka=
["a0"]);void 0===n.da&&(n.da=[2]);if(void 0===n.precision||"highp"===n.precision)n.precision=g;n.id=z++;void 0!==n.Jd&&n.Jd.forEach(function(P,Y){n.a=n.a.replace(P,n.Na[Y])});n.Eb=0;n.da.forEach(function(P){n.Eb+=4*P});n.ha=d(v,n.aa,"precision "+n.precision+" float;\n"+n.a);n.l={};n.c.forEach(function(P){n.l[P]=v.getUniformLocation(n.ha,P)});n.attributes={};n.pa=[];n.ka.forEach(function(P){var Y=v.getAttribLocation(n.ha,P);n.attributes[P]=Y;n.pa.push(Y)});if(n.g){v.useProgram(n.ha);e=n;r=n.id;for(var E in n.g)v.uniform1i(n.l[E],
n.g[E])}n.lb=!0}function h(v){Ga.Qd(M);r!==v.id&&(M.O(),r=v.id,e=v,a.useProgram(v.ha),v.pa.forEach(function(n){0!==n&&a.enableVertexAttribArray(n)}))}function t(v,n,E){f(v,n,E);v.useProgram(n.ha);v.enableVertexAttribArray(0);r=-1;return e=n}function u(){return{a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1"],g:{u1:0}}}var l=[],r=-1,e=null,z=0,C=!1,g="highp",A=["u1"],k=["u0"],F={u1:0},I={u0:0},D={u1:0,u2:1},q={u3:0},B={s0:u(),s1:{a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",
c:A,g:F,precision:"lowp"},s2:{a:"uniform sampler2D u1,u2;varying vec2 vv0;void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a*b;}",c:["u1","u2"],g:D},s3:{a:"uniform sampler2D u1;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a.r*f;}",c:A,g:F},s4:{a:"uniform sampler2D u1,u2;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u2,vv0),b=texture2D(u1,vv0);gl_FragColor=a.a*b.r*f;}",c:["u1","u2"],g:D},s5:{a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(1.-vv0.x,vv0.y));}",
c:A,g:F},s6:{a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vec2(vv0.x,1.-vv0.y));}",c:A,g:F},s7:{a:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=a*u4;}",c:["u0","u4"],g:I},s8:{a:"uniform sampler2D u0;uniform float u4;varying vec2 vv0;const vec4 f=vec4(.25,.25,.25,.25),g=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);float b=dot(a*u4,f);gl_FragColor=b*g;}",c:["u0","u4"],g:I},s9:{a:"uniform sampler2D u1;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){float a=.25*dot(e,texture2D(u1,vv0));gl_FragColor=a*e;}",
c:A,g:F},s10:{a:"uniform sampler2D u1,u5;uniform float u6;const vec4 f=vec4(1.,1.,1.,1.);varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0),b=texture2D(u5,vv0);gl_FragColor=mix(b,a,u6*f);}",c:["u1","u5","u6"],g:{u1:0,u5:1}},s11:{a:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;void main(){gl_FragColor=.25*(texture2D(u1,vv0+u7)+texture2D(u1,vv0+u7*vec2(1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,-1.))+texture2D(u1,vv0+u7*vec2(-1.,1.)));}",c:["u1","u7"],g:F},s12:{a:"uniform sampler2D u1;uniform vec4 u8;varying vec2 vv0;float g(float a,float b){a=floor(a)+.5;return floor(a/exp2(b));}float h(float a,float b){return floor(a*exp2(b)+.5);}float i(float a,float b){return mod(a,h(1.,b));}float e(float c,float a,float b){a=floor(a+.5),b=floor(b+.5);return i(g(c,a),b-a);}vec4 j(float a){if(a==0.)return vec4(0.,0.,0.,0.);float k=128.*step(a,0.);a=abs(a);float c=floor(log2(a)),l=c+127.,b=(a/exp2(c)-1.)*8388608.,d=l/2.,m=fract(d)*2.,n=floor(d),o=e(b,0.,8.),p=e(b,8.,16.),q=m*128.+e(b,16.,23.),r=k+n;return vec4(o,p,q,r)/255.;}void main(){float a=dot(texture2D(u1,vv0),u8);gl_FragColor=j(a);}",
c:["u1","u8"],g:F},s13:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=e/(e+exp(-a));gl_FragColor=b;}",c:k,g:I},s14:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(0.,0.,0.,0.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=max(f,a);}",c:k,g:I},s15:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0);gl_FragColor=mix(exp(-abs(a))-f,a,step(0.,a));}",c:k,g:I},s16:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=exp(-abs(a))-f;gl_FragColor=mix(.1*b,a,step(0.,a));}",
c:k,g:I},s17:{a:"uniform sampler2D u0,u6,u9;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),c=texture2D(u6,vv0),d=texture2D(u9,vv0),b=a/d;gl_FragColor=c*mix(exp(-abs(b))-f,b,step(0.,a));}",c:["u0","u6","u9"],g:{u0:0,u6:1,u9:2}},s18:{a:"uniform sampler2D u0;const float e=3.141593;varying vec2 vv0;void main(){gl_FragColor=atan(e*texture2D(u0,vv0))/e;}",c:k,g:I},s19:{a:"uniform sampler2D u0;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=texture2D(u0,vv0),b=log(f+a);gl_FragColor=b;}",
c:k,g:I},s20:{a:"uniform sampler2D u0,u10;uniform float u11;const vec2 e=vec2(.5,.5);const float f=1e-5;const vec4 g=vec4(1.,1.,1.,1.),i=vec4(0.,0.,0.,0.);varying vec2 vv0;void main(){vec4 a=texture2D(u10,e);float b=u11*u11;vec4 c=max(b*a,f*g);gl_FragColor=texture2D(u0,vv0)/c;}",c:["u0","u10","u11"],g:{u0:0,u10:1}},s21:{a:"uniform sampler2D u1;uniform vec2 u12;varying vec2 vv0;void main(){float a=u12.x*u12.y;vec2 b=floor(vv0*a)/a,c=fract(vv0*a),d=floor(b*u12.y),f=floor(u12.x*fract(b*u12.y)),g=(f*u12.y+d)/a;gl_FragColor=texture2D(u1,g+c/a);}",
c:["u1","u12"],g:F},s22:{a:"uniform sampler2D u13,u14,u15;varying vec2 vv0;void main(){vec4 a=texture2D(u15,vv0);vec2 b=a.rg,c=a.ba;vec4 d=texture2D(u13,b),f=texture2D(u14,c);gl_FragColor=d*f;}",c:["u13","u14","u15"],g:{u14:0,u13:1,u15:2}},s23:{a:"uniform float u16;uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec2 a=fract(vv0*u16);vec4 b=texture2D(u13,vv0),c=texture2D(u14,a);gl_FragColor=b*c;}",c:["u14","u13","u16"],g:{u14:0,u13:1}},s24:{a:"uniform float u16;uniform sampler2D u13,u14,u17,u18,u19,u20;varying vec2 vv0;const vec4 e=vec4(1.,1.,1.,1.),g=vec4(1e-3,1e-3,1e-3,1e-3);void main(){vec2 h=vv0*u16,l=floor(h),c=h-l;vec4 m=texture2D(u13,vv0),d=texture2D(u14,c),a=texture2D(u20,vv0);a=a*255.;vec4 n=texture2D(u17,c),o=texture2D(u18,c),p=texture2D(u19,c),i=step(-g,-a),b=e-i,j=b*step(-e-g,-a);b*=e-j;vec4 k=b*step(-2.*e-g,-a);b*=e-k;vec4 q=b;d=i*d+j*n+k*o+q*p,gl_FragColor=m*d;}",
c:"u13 u14 u16 u20 u17 u18 u19".split(" "),g:{u14:0,u13:1,u20:3,u17:4,u18:5,u19:6}},s25:{a:"uniform sampler2D u13,u14,u21;uniform float u16,u22,u23,u24;varying vec2 vv0;const vec2 j=vec2(1.,1.);void main(){vec2 a=floor(u22*vv0),b=u22*vv0-a;float c=u16/u22;vec2 d=floor(b*c),f=b*c-d,g=(a+f)/u22;float k=u22*u24/u16;vec2 l=k*d,h=(l+f*u23)/u24,i=step(h,j);vec4 m=texture2D(u13,g),n=texture2D(u14,h),o=m*n*i.x*i.y,p=texture2D(u21,g);gl_FragColor=o*u23*u23+p;}",c:"u13 u14 u16 u22 u23 u24 u21".split(" "),g:{u14:0,
u13:1,u21:2}},s26:{a:"uniform sampler2D u13,u14;varying vec2 vv0;void main(){vec4 a=texture2D(u13,vv0),b=texture2D(u14,vv0);gl_FragColor=a*b;}",c:["u13","u14"],g:{u14:0,u13:1}},s27:{a:"uniform sampler2D u1,u21;uniform float u25;varying vec2 vv0;void main(){gl_FragColor=texture2D(u21,vv0)+u25*texture2D(u1,vv0);}",c:["u1","u21","u25"],g:{u1:0,u21:1}},s28:{a:"varying vec2 vv0;uniform sampler2D u1;const vec4 f=vec4(1.,1.,1.,1.),g=vec4(.299,.587,.114,0.);void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=dot(a,g)*f;}",
c:A,g:F,precision:"lowp"},s29:{a:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(dot(a,f),dot(b,f),dot(c,f),dot(d,f));}",c:["u1","u26"],g:F,precision:"lowp"},s30:{a:"varying vec2 vv0;uniform sampler2D u1;uniform float u26;const vec3 f=vec3(.299,.587,.114);void main(){vec3 a=texture2D(u1,vv0).rgb,b=texture2D(u1,vv0+vec2(0.,u26)).rgb,c=texture2D(u1,vv0+vec2(u26,u26)).rgb,d=texture2D(u1,vv0+vec2(u26,0.)).rgb;gl_FragColor=vec4(a.r,b.g,c.b,dot(d,f));}",
c:["u1","u26"],g:F,precision:"lowp"},s31:{a:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 f=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u27,vv0.y-u27))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u27))*2.,b-=texture2D(u1,vec2(vv0.x+u27,vv0.y-u27))*1.,b+=texture2D(u1,vec2(vv0.x-u27,vv0.y+u27))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u27))*2.,b+=texture2D(u1,vec2(vv0.x+u27,vv0.y+u27))*1.;vec3 c=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 e=vec4(c,texture2D(u1,vv0).a),g=texture2D(u2,vv0);gl_FragColor=g.a*e.r*f;}",
c:["u1","u2","u27"],g:D},s32:{a:"varying vec2 vv0;uniform sampler2D u1,u2;uniform float u27;const vec4 j=vec4(1.,1.,1.,1.);const vec2 k=vec2(1.,1.);void main(){float h=0.;vec2 l=k*u27,a,b;float c,d,i=0.;for(float e=-4.;e<=4.;e+=1.)for(float f=-4.;f<=4.;f+=1.)a=vec2(e,f),c=length(a)/2.,d=exp(-c*c),b=vv0+l*a,h+=d*texture2D(u1,b).r,i+=d;vec4 m=texture2D(u2,vv0);gl_FragColor=m.a*(texture2D(u1,b).r-h/i)*j;}",c:["u1","u2","u27"],g:D},s33:{a:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}const vec2 g=vec2(.5,.5),h=vec2(1.,0.),i=vec2(0.,1.);void main(){vec2 a=vv0-u7*g;vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*h),d=texture2D(u3,a+u7*i),j=texture2D(u3,a+u7),k=e(b,c),l=e(d,j);gl_FragColor=e(k,l);}",
c:["u3","u7"],g:q},s34:{a:"uniform sampler2D u3;uniform vec2 u7;varying vec2 vv0;const vec2 k=vec2(1.,0.),l=vec2(0.,1.),m=vec2(2.,0.),n=vec2(0.,2.);vec4 e(vec4 a,vec4 b){vec4 c=step(a,b);return mix(a,b,c);}vec4 f(vec2 a){vec4 b=texture2D(u3,a),c=texture2D(u3,a+u7*k),d=texture2D(u3,a+u7*l),g=texture2D(u3,a+u7),h=e(b,c),i=e(d,g);return e(h,i);}void main(){vec2 a=vv0+u7*vec2(-.55,-1.05);vec4 b=f(a),c=f(a+u7*m),d=f(a+u7*2.),g=f(a+u7*n),h=e(b,c),i=e(d,g);gl_FragColor=e(h,i);}",c:["u3","u7"],g:q},s35:{a:"uniform sampler2D u1;varying vec2 vv0;void main(){vec4 a=texture2D(u1,vv0);gl_FragColor=a*a;}",
c:["u1"],g:F,precision:"lowp"},s36:{a:"uniform sampler2D u1;uniform vec2 u7;varying vec2 vv0;const float e=15444.;void main(){vec4 a=1001./e*texture2D(u1,vv0-3.*u7)+2002./e*texture2D(u1,vv0-2.*u7)+3003./e*texture2D(u1,vv0-u7)+3432./e*texture2D(u1,vv0)+3003./e*texture2D(u1,vv0+u7)+2002./e*texture2D(u1,vv0+2.*u7)+1001./e*texture2D(u1,vv0+3.*u7);gl_FragColor=a;}",c:["u7","u1"],g:F,precision:"lowp"},s37:{a:"uniform sampler2D u1,u28,u29;varying vec2 vv0;const vec4 f=vec4(1.,1.,1.,1.);const float g=.1;void main(){vec4 a=texture2D(u28,vv0),b=texture2D(u29,vv0),c=texture2D(u1,vv0),d=max(f*g,b-a*a),h=sqrt(d);gl_FragColor=(c-a)/h;}",
c:["u1","u28","u29"],g:{u1:0,u28:1,u29:2}}},G={s38:{a:"uniform float u16,u30;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-5,1e-5);void main(){vec4 sum=texture2D(u21,vv0);float toSparsity=1.1111;vec2 uvFrom,uvWeight,xyPatch=ZERO2,eps2=EPS2/u16,xyTo=floor(vv0*u16+eps2);float weightSize=toSparsity*u16;vec2 halfFromSparsity=ONE2*(toSparsity-1.)/2.;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.)xyPatch.y=patch_y,uvFrom=(xyTo+HALF2+u30*(xyPatch-halfFromSparsity))/u16,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),uvWeight=(xyTo*toSparsity+xyPatch+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:["u16","u13","u14","u21","u30"],Na:["1.1111","gl_FragColor\\*=2.2222;"]},s39:{a:"uniform float u16,u30,u24;uniform sampler2D u13,u14,u21;varying vec2 vv0;const vec2 ZERO2=vec2(0.,0.),ONE2=vec2(1.,1.),HALF2=vec2(.5,.5),EPS2=vec2(1e-4,1e-4);void main(){vec4 sum=texture2D(u21,vv0);float fromSparsity=1.1111,shrinkFactor=3.3333;vec2 uvFrom,uvWeight,xyFrom,xyPatchTo,xyPatch=ZERO2,xyShrink=ZERO2,eps2=EPS2/u24,xyTo=floor(vv0*u16+eps2);float weightSize=fromSparsity*u24;vec2 halfFromSparsity=ONE2*(fromSparsity-1.)/2.;float toSparsity=weightSize/u16;vec2 xyFrom0=xyTo*shrinkFactor;for(float patch_x=0.;patch_x<1.1111;patch_x+=1.){xyPatch.x=patch_x;for(float patch_y=0.;patch_y<1.1111;patch_y+=1.){xyPatch.y=patch_y;for(float shrink_x=0.;shrink_x<3.3333;shrink_x+=1.){xyShrink.x=shrink_x;for(float shrink_y=0.;shrink_y<3.3333;shrink_y+=1.)xyShrink.y=shrink_y,xyFrom=xyFrom0+xyShrink+shrinkFactor*u30*(xyPatch-halfFromSparsity),uvFrom=(xyFrom+HALF2)/u24,uvFrom+=step(uvFrom,-eps2),uvFrom-=step(ONE2-eps2,uvFrom),xyPatchTo=xyPatch*shrinkFactor+xyShrink,uvWeight=(xyTo*toSparsity+xyPatchTo+HALF2)/weightSize,sum+=texture2D(u13,uvWeight)*texture2D(u14,uvFrom);}}}gl_FragColor=sum,gl_FragColor*=2.2222;}",
c:"u16 u24 u13 u14 u21 u30".split(" "),Na:["1.1111","gl_FragColor\\*=2.2222;","3.3333"]}},M={Ga:function(){return C},o:function(){if(!C){g="highp";for(var v in B)f(a,B[v],v);w.set("s0");a.enableVertexAttribArray(0);C=!0}},Ic:function(v){v.forEach(function(n){M.V(n)})},V:function(v){B[v.id]=v;f(a,v,v.id)},hc:function(v,n,E){n||(n=v);B[n]=Object.create(G[v]);B[n].td=!0;G[v].Na&&G[v].Na.forEach(function(P,Y){B[n].a=B[n].a.replace(new RegExp(P,"g"),E[Y])});f(a,B[n],n)},set:function(v){h(B[v])},Oa:function(v){return t(v,
u(),"s40")},zb:function(v){return t(v,{a:"void main(){gl_FragColor=vec4(.5,.5,.5,.5);}",c:[],precision:"highp"},"s41")},cd:function(v){return"undefined"===typeof B[v]?!1:B[v].lb},O:function(){-1!==r&&(r=-1,e.pa.forEach(function(v){0!==v&&a.disableVertexAttribArray(v)}))},Bb:function(){var v=0;e.pa.forEach(function(n,E){E=e.da[E];a.vertexAttribPointer(n,E,a.FLOAT,!1,e.Eb,v);v+=4*E})},bd:function(){a.enableVertexAttribArray(0)},ra:function(){M.Pa(a)},Pa:function(v){v.vertexAttribPointer(e.pa[0],2,v.FLOAT,
!1,8,0)},Ne:function(v,n){a.uniform1i(e.l[v],n)},u:function(v,n){a.uniform1f(e.l[v],n)},K:function(v,n,E){a.uniform2f(e.l[v],n,E)},$:function(v,n){a.uniform2fv(e.l[v],n)},Oe:function(v,n){a.uniform3fv(e.l[v],n)},Rd:function(v,n,E,P){a.uniform3f(e.l[v],n,E,P)},Pe:function(v,n,E,P,Y){a.uniform4f(e.l[v],n,E,P,Y)},Ab:function(v,n){a.uniform4fv(e.l[v],n)},Qe:function(v,n){a.uniformMatrix2fv(e.l[v],!1,n)},Re:function(v,n){a.uniformMatrix3fv(e.l[v],!1,n)},Se:function(v,n){a.uniformMatrix4fv(e.l[v],!1,n)},
C:function(v,n){M.set(v);n.forEach(function(E){switch(E.type){case "4f":a.uniform4fv(e.l[E.name],E.value);break;case "3f":a.uniform3fv(e.l[E.name],E.value);break;case "2f":a.uniform2fv(e.l[E.name],E.value);break;case "1f":a.uniform1f(e.l[E.name],E.value);break;case "1i":a.uniform1i(e.l[E.name],E.value);break;case "mat2":a.uniformMatrix2fv(e.l[E.name],!1,E.value);break;case "mat3":a.uniformMatrix3fv(e.l[E.name],!1,E.value);break;case "mat4":a.uniformMatrix4fv(e.l[E.name],!1,E.value)}})},we:function(){return"lowp"},
i:function(){a.disableVertexAttribArray(0);M.O();for(var v in B){var n=B[v];n.lb&&(n.lb=!1,a.deleteProgram(n.ha));n.td&&delete B[v]}l.forEach(function(E){a.deleteShader(E)});l.splice(0);z=0;C=!1}};return M}(),a=null,Ja=function(){function b(g){console.log("ERROR in ContextFF: ",g);return!1}function d(g){function A(){Ha.i();F.getExtension("WEBGL_lose_context").loseContext()}if(navigator.userAgent&&-1!==navigator.userAgent.indexOf("forceWebGL1"))return!1;var k=document.createElement("canvas");k.setAttribute("width",
1);k.setAttribute("height",1);var F=null;try{F=k.getContext("webgl2",g)}catch(I){return!1}if(!F)return!1;f(F);Ia.Rb(F);g=Ia.Xa(F);if(!g.X&&!g.Y)return A(),!1;g=Ha.Kb(F,g);A();return g?!0:!1}function f(g){g.clearColor(0,0,0,0);g.disable(g.DEPTH_TEST);g.disable(g.BLEND);g.disable(g.DITHER);g.disable(g.STENCIL_TEST);g.disable(g.CULL_FACE);g.GENERATE_MIPMAP_HINT&&g.hint(g.GENERATE_MIPMAP_HINT,g.FASTEST);g.disable(g.SAMPLE_ALPHA_TO_COVERAGE);g.disable(g.SAMPLE_COVERAGE);g.depthFunc(g.LEQUAL);g.clearDepth(1)}
var h=null,t=null,u=null,l=null,r=!0,e=null,z=null,C={j:function(){return h.width},R:function(){return h.height},oe:function(){return h},le:function(){return a},Z:function(){return r},flush:function(){a.flush()},gd:function(){e||(e=new Uint8Array(h.width*h.height*4));a.readPixels(0,0,h.width,h.height,a.RGBA,a.UNSIGNED_BYTE,e);return e},qe:function(){return h.toDataURL("image/jpeg")},re:function(){K.I();t||(t=document.createElement("canvas"),u=t.getContext("2d"));t.width=h.width;t.height=h.height;
for(var g=C.gd(),A=u.createImageData(t.width,t.height),k=t.width,F=t.height,I=A.data,D=0;D<F;++D)for(var q=F-D-1,B=0;B<k;++B){var G=4*(D*k+B),M=4*(q*k+B);I[G]=g[M];I[G+1]=g[M+1];I[G+2]=g[M+2];I[G+3]=g[M+3]}u.putImageData(A,0,0);return t.toDataURL("image/png")},pe:function(g){!t&&g&&(t=document.createElement("canvas"),u=t.getContext("2d"));var A=g?t:document.createElement("canvas");A.width=h.width;A.height=h.height;(g?u:A.getContext("2d")).drawImage(h,0,0);return A},o:function(g){g.Vc&&!g.Wa?h=document.getElementById(g.Vc):
g.Wa&&(h=g.Wa);h||(h=document.createElement("canvas"));h.width=g&&void 0!==g.width?g.width:512;h.height=g&&void 0!==g.height?g.height:512;"undefined"===typeof g&&(g={});void 0===g.premultipliedAlpha&&(g.premultipliedAlpha=!1);void 0===g.mc&&(g.mc=!0);void 0===g.antialias&&(g.antialias=!1);if(!a){var A={antialias:g.antialias,alpha:!0,preserveDrawingBuffer:!0,premultipliedAlpha:g.premultipliedAlpha,stencil:!1,depth:g.mc};navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("noAntialiasing")&&
(A.antialias=!1);var k=d(A);!k&&A.antialias&&(A.antialias=!1,k=d(A));k&&(a=h.getContext("webgl2",A));a?r=!0:((a=h.getContext("webgl",A))||(a=h.getContext("experimental-webgl",A)),r=!1)}if(!a)return b("WebGL1 and 2 are not enabled");(l=a.getExtension("WEBGL_lose_context"))&&g.rc&&(z=g.rc,h.addEventListener("webglcontextlost",z,!1));if(!Ia.o())return b("Not enough GL capabilities");f(a);w.o();S.o();return Ha.Kb(a,Ia.fd())?!0:b("Cannot filter float textures")},i:function(){a&&Ia.i();l&&z&&(h.removeEventListener("webglcontextlost",
z,!1),z=null);e=u=t=h=null}};return C}(),Ga=function(){function b(){null===d&&("undefined"!==typeof w?d=w:"undefined"!==typeof JEShaders&&(d=JEShaders))}var d=null;b();return{Qd:function(f){d!==f&&(d&&d.O(),d=f)},Ga:function(){return d.Ga()},ra:function(){return d.ra()},Pa:function(f){return d.Pa(f)},Bb:function(){return d.Bb()},O:function(){return d.O()},set:function(f){return d.set(f)},Oa:function(f){b();return d.Oa(f)},zb:function(f){b();return d.zb(f)},i:function(){return d.i()}}}(),Z=function(){function b(p){a.bindTexture(a.TEXTURE_2D,
p)}function d(p){P[0]=p;p=Y[0];var T=p>>16&32768,N=p>>12&2047,c=p>>23&255;return 103>c?T:142<c?T|31744|((255==c?0:1)&&p&8388607):113>c?(N|=2048,T|(N>>114-c)+(N>>113-c&1)):T=(T|c-112<<10|N>>1)+(N&1)}function f(p){var T=new Uint16Array(p.length);p.forEach(function(N,c){T[c]=d(N)});return T}function h(){if(null!==la.jb)return la.jb;var p=u(f([1,1,1,1]));return null===p?!0:la.jb=p}function t(){if(null!==la.kb)return la.kb;var p=u(new Uint8Array([255,255,255,255]));return null===p?!0:la.kb=p}function u(p){if(!Ga.Ga()||
!I)return null;var T=null;try{var N=a.getError();if("FUCKING_BIG_ERROR"===N)return!1;T=J.instance({isFloat:!1,J:!0,array:p,width:1});N=a.getError();if(N!==a.NO_ERROR)return!1}catch(c){return!1}K.I();a.viewport(0,0,1,1);a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);Ga.set("s0");T.Ib(0);S.f(!0,!0);p=new Uint8Array(4);a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,p);p=.9<p[0];T.remove();K.P();return p}var l=0,r=null,e=0,z=null,C=null,g=null,A=null,k=null,F=null,I=!1,D=[],q={isFloat:!1,isPot:!0,isLinear:!1,
isMipmap:!1,isAnisotropicFiltering:!1,isMirrorX:!1,isMirrorY:!1,isSrgb:!1,isKeepArray:!1,isFlipY:null,width:0,height:0,url:null,array:null,data:null,H:null,sd:!1,J:!1,ea:null,Ia:4,ob:0},B=!1,G=null,M=null,v=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],n=!1,E=!1,P=new Float32Array(1),Y=new Int32Array(P.buffer),la={jb:null,kb:null},J={o:function(){I||(k=[a.RGB,null,a.RGB,a.RGBA],F=[a.RGB,null,a.RGB,a.RGBA],r=[a.TEXTURE0,a.TEXTURE1,a.TEXTURE2,a.TEXTURE3,a.TEXTURE4,a.TEXTURE5,a.TEXTURE6,a.TEXTURE7],n="undefined"!==
typeof JEContext,E="undefined"!==typeof Ia,n&&JEContext.Je()&&r.push(a.TEXTURE8,a.TEXTURE9),z=[-1,-1,-1,-1,-1,-1,-1,-1],A=[a.UNSIGNED_BYTE,a.FLOAT,a.FLOAT],I=!0)},qd:function(){if(!C){for(var p=new Float32Array(16384),T=0;16384>T;++T)p[T]=2*Math.random()-1;C={random:J.instance({isFloat:!0,isPot:!0,array:p,width:64}),Ac:J.instance({isFloat:!1,isPot:!0,width:1,array:new Uint8Array([0,0,0,0])})}}J.Zd()},Be:function(){return C.Ac},Zd:function(){A[1]=Ia.hb(a)},Md:function(){F=k=[a.RGBA,a.RGBA,a.RGBA,a.RGBA]},
Id:function(p,T){w.set("s1");K.I();var N=p.j(),c=p.R();a.viewport(0,0,N,c);p.b(0);S.f(!1,!1);a.readPixels(0,0,N,c,a.RGBA,a.UNSIGNED_BYTE,T)},Zb:function(p,T,N,c,aa,pa,ra){p.activeTexture(p.TEXTURE0);var na=p.createTexture();p.bindTexture(p.TEXTURE_2D,na);aa=aa instanceof Float32Array?aa:new Float32Array(aa);0!==Math.log2(aa.length)%1&&(p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_S,p.CLAMP_TO_EDGE),p.texParameteri(p.TEXTURE_2D,p.TEXTURE_WRAP_T,p.CLAMP_TO_EDGE));p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MAG_FILTER,
p.NEAREST);p.texParameteri(p.TEXTURE_2D,p.TEXTURE_MIN_FILTER,p.NEAREST);p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,pa);p.texImage2D(p.TEXTURE_2D,0,p.RGBA,N,c,0,p.RGBA,p.FLOAT,aa);p.bindTexture(p.TEXTURE_2D,null);p.pixelStorei(p.UNPACK_FLIP_Y_WEBGL,!1);ra&&(K.P(),w.set("s0"));p.viewport(0,0,N,c);p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,T,0);p.bindTexture(p.TEXTURE_2D,na);ra?S.f(!0,!0):S.Ca(p);p.deleteTexture(na);I&&(z[0]=-1,g=null,l=0)},instance:function(p){function T(x){var L=
a.getError();if("FUCKING_BIG_ERROR"===L)return!1;a.texImage2D(a.TEXTURE_2D,0,V,ea,fa,x);L=a.getError();L!==a.NO_ERROR&&ea!==a.RGBA&&(ea=a.RGBA,a.texImage2D(a.TEXTURE_2D,0,V,ea,fa,x));return!0}function N(){if(!xa){b(Q);sa&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,sa);c.isPot?(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,c.isMirrorX?a.MIRRORED_REPEAT:a.REPEAT),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,c.isMirrorY?a.MIRRORED_REPEAT:a.REPEAT)):(a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),
a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE));c.isAnisotropicFiltering&&"undefined"!==typeof JESETTINGS&&a.texParameterf(a.TEXTURE_2D,JEContext.se().TEXTURE_MAX_ANISOTROPY_EXT,JESETTINGS.ae);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,c.isLinear?a.LINEAR:a.NEAREST);c.isLinear?a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,c.isMipmap&&!ta?a.NEAREST_MIPMAP_LINEAR:a.LINEAR):a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,c.isMipmap&&!ta?a.NEAREST_MIPMAP_NEAREST:a.NEAREST);
ea=k[c.Ia-1];V=F[c.Ia-1];fa=A[pa];if(Ia.Z()){var x=a.RGBA32F;ea===a.RGBA&&fa===a.FLOAT?c.isMipmap||c.isLinear?V=Ha.jd(a):Ia.Lb()?x&&(V=x):V=a.RGBA16F||a.RGBA:ea===a.RGB&&fa===a.FLOAT&&x&&(V=x,ea=a.RGBA)}if(c.J&&!c.isFloat||c.isFloat&&c.isMipmap&&Ha.wd())(x=a.RGBA16F)&&(V=x),fa=Ia.hb(a);c.ob&&(Aa=c.ob);c.isSrgb&&4===c.Ia&&(ea=JEContext.ze());if(c.H)T(c.H);else if(c.url)T(W);else if(oa){x=oa;try{"FUCKING_BIG_ERROR"!==a.getError()&&(a.texImage2D(a.TEXTURE_2D,0,V,R,H,0,ea,fa,x),a.getError()!==a.NO_ERROR&&
(a.texImage2D(a.TEXTURE_2D,0,V,R,H,0,ea,fa,null),a.getError()!==a.NO_ERROR&&a.texImage2D(a.TEXTURE_2D,0,a.RGBA,R,H,0,a.RGBA,a.UNSIGNED_BYTE,null)))}catch(ib){a.texImage2D(a.TEXTURE_2D,0,V,R,H,0,ea,fa,null)}c.isKeepArray||(oa=null)}else x=a.getError(),"FUCKING_BIG_ERROR"!==x&&(a.texImage2D(a.TEXTURE_2D,0,V,R,H,0,ea,fa,null),x=a.getError(),x!==a.NO_ERROR&&(ea=a.RGBA,c.J&&fa!==a.FLOAT&&(fa=a.FLOAT,a.texImage2D(a.TEXTURE_2D,0,V,R,H,0,ea,fa,null))));if(c.isMipmap)if(!ta&&y)y.gb(),Ca=!0;else if(ta){x=Math.log2(Math.min(R,
H));Ba=Array(1+x);Ba[0]=Q;for(var L=1;L<=x;++L){var ba=Math.pow(2,L),U=R/ba;ba=H/ba;var wa=a.createTexture();b(wa);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.NEAREST);a.texImage2D(a.TEXTURE_2D,0,V,U,ba,0,ea,fa,null);b(null);Ba[L]=wa}Ca=!0}b(null);z[l]=-1;sa&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1);ia=!0;c.ea&&y&&(c.ea(y),c.ea=null)}}var c=Object.assign({},q,p),aa=e++;null===c.isFlipY&&(c.isFlipY=c.url||c.array?!0:!1);c.data&&(c.array=
"string"===typeof c.data?Fa(c.data):c.isFloat?new Float32Array(c.data):new Uint8Array(c.data),c.isFlipY=!1);var pa=0,ra=c.H?!0:!1,na=null,ca=null,X=!1,ja=null;c.J=c.J||c.isFloat;c.J&&(pa=1);c.sd||Ia.Z()||!c.isFloat||!E||Ia.Lb()||(c.isFloat=!1);c.isFloat&&(pa=2);c.isAnisotropicFiltering&&n&&!JEContext.Ee()&&(c.isAnisotropicFiltering=!1);var Q=a.createTexture(),W=null,oa=!1,R=0,H=0,ia=!1,xa=!1,ya=!1,ma=null,qa=null,da=null,O=null,V=null,ea=null,fa=null,sa=c.isFlipY,Ea=(p=c.J&&c.isMipmap)&&Ha.Sc(),ta=
p&&Ea?!0:!1,Ba=null,Aa=-1,Ca=!1,m={nc:!1,Jb:null,$b:null};c.width&&(R=c.width,H=c.height?c.height:R);var y={get:function(){return Q},j:function(){return R},R:function(){return H},Ce:function(){return c.url},Fe:function(){return c.isFloat},He:function(){return c.J},Ie:function(){return c.isLinear},gb:function(){a.generateMipmap(a.TEXTURE_2D)},Qc:function(x,L){ta?(x||(x=y.dc()),y.Ta(L),b(Ba[x]),z[L]=-1):y.b(L)},dc:function(){-1===Aa&&(Aa=Math.log(R)/Math.log(2));return Aa},ed:function(x){if(ta){x||
(x=y.dc());w.set("s11");y.Ta(0);for(var L=R,ba=H,U=1;U<=x;++U)L/=2,ba/=2,w.K("u7",.25/L,.25/ba),a.viewport(0,0,L,ba),b(Ba[U-1]),a.framebufferTexture2D(K.Fa(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,Ba[U],0),S.f(!1,1===U);z[0]=-1}else y.gb()},Ta:function(x){x!==l&&(a.activeTexture(r[x]),l=x)},b:function(x){if(!ia)return!1;y.Ta(x);if(z[x]===aa)return!1;b(Q);z[x]=aa;return!0},Ib:function(x){a.activeTexture(r[x]);l=x;b(Q);z[x]=aa},m:function(){g=y;a.framebufferTexture2D(K.Fa(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,
Q,0)},B:function(){g=y;a.viewport(0,0,R,H);a.framebufferTexture2D(K.Fa(),a.COLOR_ATTACHMENT0,a.TEXTURE_2D,Q,0)},Db:J.Db,resize:function(x,L){R=x;H=L;N()},clone:function(x){x=J.instance({width:R,height:H,J:c.J,isFloat:c.isFloat,isLinear:c.isLinear,isMirrorY:c.isMirrorY,isFlipY:x?!sa:sa,isPot:c.isPot});Ga.set("s0");K.P();x.m();a.viewport(0,0,R,H);y.b(0);S.f(!0,!0);return x},Sd:function(){a.viewport(0,0,R,H)},remove:function(){a.deleteTexture(Q);xa=!0;D.splice(D.indexOf(y),1);y=null},refresh:function(){y.Ib(0);
sa&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0);ra?a.texImage2D(a.TEXTURE_2D,0,V,ea,a.UNSIGNED_BYTE,c.H):a.texImage2D(a.TEXTURE_2D,0,V,R,H,0,ea,fa,oa);sa&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},Mb:function(){var x=R*H*4;qa=[new Uint8Array(x),new Uint8Array(x),new Uint8Array(x),new Uint8Array(x)];ma=[new Float32Array(qa[0].buffer),new Float32Array(qa[1].buffer),new Float32Array(qa[2].buffer),new Float32Array(qa[3].buffer)];da=new Uint8Array(4*x);O=new Float32Array(da.buffer);ya=!0},xc:function(){ya||
y.Mb();a.readPixels(0,0,R,4*H,a.RGBA,a.UNSIGNED_BYTE,da);for(var x=R*H,L=2*x,ba=3*x,U=0;U<x;++U)ma[0][U]=O[U],ma[1][U]=O[U+x],ma[2][U]=O[U+L],ma[3][U]=O[U+ba];return ma},Hd:function(){m.nc||(m.Jb=new Uint8Array(R*H*4),m.$b=new Float32Array(m.buffer),m.nc=!0);a.readPixels(0,0,R,H,a.RGBA,a.UNSIGNED_BYTE,m.Jb);return m.$b},Qb:function(x){K.I();w.set("s12");y.b(0);if(x)a.viewport(0,0,R,H),w.Ab("u8",.25,.25,.25,.25),S.f(!1,!0);else for(x=0;4>x;++x)a.viewport(0,H*x,R,H),w.Ab("u8",v[x]),S.f(!1,0===x)},We:function(x){var L=
fa===A[0]&&!t();b(Q);sa&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0);L?(X||(na=document.createElement("canvas"),na.width=R,na.height=H,ca=na.getContext("2d"),ja=ca.createImageData(R,H),X=!0),ja.data.set(x),ca.putImageData(ja,0,0),a.texImage2D(a.TEXTURE_2D,0,V,ea,fa,na)):a.texImage2D(a.TEXTURE_2D,0,V,R,H,0,ea,fa,x);z[l]=aa;sa&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!1)},Xe:function(x,L){b(Q);L&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,!0);a.texImage2D(a.TEXTURE_2D,0,V,ea,fa,x);z[l]=aa;L&&a.pixelStorei(a.UNPACK_FLIP_Y_WEBGL,
!1)},Le:function(x,L){var ba=R*H,U=4*ba;x=c.J?x?"RGBE":"JSON":"RGBA";L&&(x=L);L=Ia.Z()&&!1;var wa=null;switch(x){case "RGBE":wa="s42";break;case "JSON":wa=L?"s0":"s12";break;case "RGBA":case "RGBAARRAY":wa="s6"}ya||("RGBA"===x||"RGBE"===x||"RGBAARRAY"===x?(qa=new Uint8Array(U),ya=!0):"JSON"!==x||L||y.Mb());K.I();w.set(wa);y.b(0);U=null;if("RGBA"===x||"RGBE"===x||"RGBAARRAY"===x){a.viewport(0,0,R,H);S.f(!0,!0);a.readPixels(0,0,R,H,a.RGBA,a.UNSIGNED_BYTE,qa);if("RGBAARRAY"===x)return{data:qa};B||(G=
document.createElement("canvas"),M=G.getContext("2d"),B=!0);G.width=R;G.height=H;ba=M.createImageData(R,H);ba.data.set(qa);M.putImageData(ba,0,0);U=G.toDataURL("image/png")}else if("JSON"===x)if(L)U=new Float32Array(ba),a.viewport(0,0,R,H),S.f(!0,!0),a.readPixels(0,0,R,H,a.RGBA,a.FLOAT,U);else{for(U=0;4>U;++U)a.viewport(0,H*U,R,H),w.Ab("u8",v[U]),S.f(!U,!U);y.xc();U=Array(ba);for(L=0;L<ba;++L)U[4*L]=ma[0][L],U[4*L+1]=ma[1][L],U[4*L+2]=ma[2][L],U[4*L+3]=ma[3][L]}return{format:x,data:U,width:R,height:H,
isMirrorY:c.isMirrorY,isFlipY:"RGBA"===x?c.isFlipY:!c.isFlipY}}};c.isMipmap&&!ta&&ia&&!Ca&&(y.gb(),Ca=!0);if(c.url)b(Q),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,1,1,0,a.RGBA,a.UNSIGNED_BYTE,null),W=new Image,W.ie="Anonymous",W.crossOrigin="Anonymous",W.src=c.url,W.onload=function(){R=W.width;H=W.height;N()};else if(c.H){var ha=function(){R=void 0!==c.H.videoWidth?c.H.videoWidth:c.H.width;H=void 0!==c.H.videoHeight?c.H.videoHeight:c.H.height;R?N():setTimeout(ha,1)};ha()}else c.array?(c.J&&!c.isFloat?c.array instanceof
Uint16Array?(oa=c.array,N()):h()?(oa=f(c.array),N()):(N(),J.Zb(a,Q,y.j(),y.R(),c.array,sa,!0)):(oa=c.isFloat?c.array instanceof Float32Array?c.array:new Float32Array(c.array):c.array instanceof Uint8Array?c.array:new Uint8Array(c.array),N()),c.isKeepArray||(oa&&oa!==c.array&&(oa=null),delete c.array)):N();y.ye=y.j;c.ea&&ia&&(c.ea(y),c.ea=null);D.push(y);return y},I:function(p){p!==l&&(a.activeTexture(r[p]),l=p);z[p]=-1;b(null)},de:function(p){C.random.b(p)},Db:function(){g=null;a.framebufferTexture2D(K.Fa(),
a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0)},reset:function(){for(var p=0;p<r.length;++p)z[p]=-1;l=-1},Ke:function(){l=-1},Wd:function(){for(var p=0;p<r.length;++p)J.I(p)},ac:function(){C&&(C.random.remove(),C.Ac.remove())},Ue:function(p,T){if("RGBA"===p.format||"RGBE"===p.format){var N=new Image;N.src=p.data;N.onload=function(){J.instance({isMirrorY:p.isMirrorY,isFlipY:p.isFlipY,isFloat:!1,H:N,ea:function(c){if("RGBA"===p.format)T(c);else{var aa=p.width,pa=p.height,ra=J.instance({isMirrorY:p.isMirrorY,
isFloat:!0,width:aa,height:pa,isFlipY:p.isFlipY});K.P();a.viewport(0,0,aa,pa);w.set("s43");ra.m();c.b(0);S.f(!0,!0);J.I(0);T(ra);a.flush();setTimeout(c.remove,50)}}})}}else"JSON"===p.format?T(J.instance({isFloat:!0,isFlipY:p.isFlipY,width:p.width,height:p.height,array:new Float32Array(p.data)})):T(!1)},i:function(){g&&(K.P(),J.Db(),K.I());J.Wd();D.slice(0).forEach(function(p){p.remove()});D.splice(0);I=!1;e=0;"undefined"!==typeof Ha&&Ha.i()}};return J}(),Ka={instance:function(b){var d=[Z.instance(b),
Z.instance(b)],f=[d[1],d[0]],h=f,t={Pd:function(u){h[1].m();h[0].b(u);t.zc()},Me:function(u){h[1].B();h[0].b(u);t.zc()},zc:function(){h=h===d?f:d},refresh:function(){h[0].refresh();h[1].refresh()},b:function(u){h[0].b(u)},ce:function(u){h[1].b(u)},ve:function(){return h[0]},remove:function(){h[0].remove();h[1].remove();h=null}};return t}},S=function(){function b(e){var z={U:null,F:null};z.U=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,z.U);e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,3,-1,
-1,3]),e.STATIC_DRAW);z.F=e.createBuffer();e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,z.F);e.bufferData(e.ELEMENT_ARRAY_BUFFER,new Uint16Array([0,1,2]),e.STATIC_DRAW);return z}var d=null,f=0,h=!1,t=[],u=-2,l=-2,r={reset:function(){l=u=-2},o:function(){h||(d=b(a),r.ua(),h=!0)},instance:function(e){var z=f++,C=e.F?e.F.length:0,g="undefined"===typeof e.mode?a.STATIC_DRAW:e.mode,A=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,A);a.bufferData(a.ARRAY_BUFFER,e.U instanceof Float32Array?e.U:new Float32Array(e.U),
g);u=z;var k=null,F=null,I=null;if(e.F){k=a.createBuffer();a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,k);var D=null;65536>e.F.length?(D=Uint16Array,F=a.UNSIGNED_SHORT,I=2):(D=Uint32Array,F=a.UNSIGNED_INT,I=4);D=e.F instanceof D?e.F:new D(e.F);a.bufferData(a.ELEMENT_ARRAY_BUFFER,D,g);l=z}var q={Rc:function(B){u!==z&&(a.bindBuffer(a.ARRAY_BUFFER,A),u=z);B&&Ga.Bb()},Oc:function(){l!==z&&(a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,k),l=z)},bind:function(B){q.Rc(B);q.Oc()},Zc:function(){a.drawElements(a.TRIANGLES,C,
F,0)},je:function(B,G){a.drawElements(a.TRIANGLES,B,F,G*I)},remove:function(){a.deleteBuffer(A);e.F&&a.deleteBuffer(k);q=null}};t.push(q);return q},ua:function(){-1!==u&&(a.bindBuffer(a.ARRAY_BUFFER,d.U),u=-1);-1!==l&&(a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,d.F),l=-1)},f:function(e,z){e&&S.ua();z&&Ga.ra();a.drawElements(a.TRIANGLES,3,a.UNSIGNED_SHORT,0)},Ca:function(e){e=e||a;var z=b(e);e.bindBuffer(e.ARRAY_BUFFER,z.U);e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,z.F);Ga.Pa(e);e.drawElements(e.TRIANGLES,3,e.UNSIGNED_SHORT,
0);e.deleteBuffer(z.U);e.deleteBuffer(z.F);r.reset();h&&(r.ua(),Ga.ra())},ac:function(){var e=a,z=d;e.deleteBuffer(z.U);e.deleteBuffer(z.F)},i:function(){r.ac();t.forEach(function(e){e.remove()});a.bindBuffer(a.ARRAY_BUFFER,null);a.bindBuffer(a.ELEMENT_ARRAY_BUFFER,null);r.reset();h=!1;t.splice(0);f=0}};return r}(),K=function(){var b=null,d=null,f=null,h=!1,t=[],u={D:-2,Yb:1},l={Ga:function(){return h},o:function(){if(!h){b=a.createFramebuffer();var r=Ia.Z();d=r&&a.DRAW_FRAMEBUFFER?a.DRAW_FRAMEBUFFER:
a.FRAMEBUFFER;f=r&&a.READ_FRAMEBUFFER?a.READ_FRAMEBUFFER:a.FRAMEBUFFER;h=!0}},te:function(){return d},kd:function(){return f},Fa:function(){return a.FRAMEBUFFER},xe:function(){return u},ke:function(){return b},instance:function(r){void 0===r.lc&&(r.lc=!1);var e=r.L?r.L:null,z=r.width,C=void 0!==r.height?r.height:r.width,g=b,A=null,k=!1,F=!1,I=0;e&&(z=z?z:e.j(),C=C?C:e.R());var D={yc:function(){k||(g=a.createFramebuffer(),k=!0,I=u.Yb++)},Hc:function(){D.yc();D.m();A=a.createRenderbuffer();a.bindRenderbuffer(a.RENDERBUFFER,
A);a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,z,C);a.framebufferRenderbuffer(d,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,A);a.clearDepth(1)},bind:function(q,B){I!==u.D&&(a.bindFramebuffer(d,g),u.D=I);e&&e.m();B&&a.viewport(0,0,z,C);q&&a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},be:function(){I!==u.D&&(a.bindFramebuffer(d,g),u.D=I)},clear:function(){a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT)},ge:function(){a.clear(a.COLOR_BUFFER_BIT)},he:function(){a.clear(a.DEPTH_BUFFER_BIT)},Sd:function(){a.viewport(0,
0,z,C)},m:function(){I!==u.D&&(a.bindFramebuffer(d,g),u.D=I)},rtt:function(q){e=q;u.D!==I&&(a.bindFramebuffer(a.FRAMEBUFFER,g),u.D=I);q.m()},I:function(){a.bindFramebuffer(d,null);u.D=-1},resize:function(q,B){z=q;C=B;A&&(a.bindRenderbuffer(a.RENDERBUFFER,A),a.renderbufferStorage(a.RENDERBUFFER,a.DEPTH_COMPONENT16,z,C))},remove:function(){g===b||F||(a.bindFramebuffer(d,g),a.framebufferTexture2D(d,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,null,0),A&&a.framebufferRenderbuffer(d,a.DEPTH_ATTACHMENT,a.RENDERBUFFER,
null),a.bindFramebuffer(d,null),a.deleteFramebuffer(g),A&&a.deleteRenderbuffer(A));F=!0}};r.lc&&D.Hc();t.push(D);return D},I:function(){a.bindFramebuffer(d,null);u.D=-1},Xd:function(){a.bindFramebuffer(d,null);a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT);a.viewport(0,0,Ia.j(),Ia.R());u.D=-1},reset:function(){u.D=-2},P:function(){0!==u.D&&(a.bindFramebuffer(d,b),u.D=0)},clear:function(){a.viewport(0,0,Ia.j(),Ia.R());a.clear(a.COLOR_BUFFER_BIT)},i:function(){l.I();t.forEach(function(r){r.remove()});
a.deleteFramebuffer(b);l.reset();h=!1;t.splice(0);u.D=-2;u.Yb=1}};return l}(),Ia=function(){function b(){f="undefined"===typeof Ja?JEContext:Ja;h=!0}function d(q,B){for(var G=0;G<q.length;++G){var M=B.getExtension(q[G]);if(M)return M}return null}var f=null,h=!1,t=!1,u=null,l=null,r=!1,e=null,z=!1,C=null,g=!1,A=null,k=null,F={X:!0,Y:!0,fb:!0},I="undefined"===typeof window?{}:window,D={o:function(){if(h)return!0;b();var q=a;if(!t){u=D.Ub(q);if((r=(I.GL_EXT_FLOAT=u)?!0:!1)||D.Z())l=D.Vb(q),I.GL_EXT_FLOATLINEAR=
l;t=!0}if(!g){if(e=D.za(q))z=!0,I.GL_EXT_HALFFLOAT=e;if(z||D.Z())C=D.Wb(q),I.GL_EXT_HALFFLOATLINEAR=C;g=!0}A=D.Sb(q);I.GL_EXT_COLORBUFFERFLOAT=A;k=D.Tb(q);I.GL_EXT_COLORBUFFERHALFFLOAT=k;K.o();Z.o();if(!D.Xc())return!1;S.o();Z.qd();return!0},j:function(){h||b();return f.j()},R:function(){h||b();return f.R()},Z:function(){h||b();return f.Z()},Rb:function(q){D.Sb(q);D.Tb(q);D.Ub(q);D.Vb(q);D.za(q);D.Wb(q)},Sb:d.bind(null,["EXT_color_buffer_float","WEBGL_color_buffer_float","OES_color_buffer_float"]),
Tb:d.bind(null,["EXT_color_buffer_half_float","WEBGL_color_buffer_half_float","OES_color_buffer_half_float"]),Ub:d.bind(null,["OES_texture_float","MOZ_OES_texture_float","WEBKIT_OES_texture_float"]),Vb:d.bind(null,["OES_texture_float_linear","MOZ_OES_texture_float_linear","WEBKIT_OES_texture_float_linear"]),za:d.bind(null,["OES_texture_half_float","MOZ_OES_texture_half_float","WEBKIT_OES_texture_half_float"]),Wb:d.bind(null,["OES_texture_half_float_linear","MOZ_OES_texture_half_float_linear","WEBKIT_OES_texture_half_float_linear"]),
hb:function(q){var B=D.za(q);return B&&B.HALF_FLOAT_OES?B.HALF_FLOAT_OES:q.HALF_FLOAT||q.FLOAT},fd:function(){return F},Lb:function(){return F.X},fe:function(){return F.Y},ee:function(){return F.fb},Qa:function(q,B,G){function M(){q.bindTexture(q.TEXTURE_2D,null);q.bindFramebuffer(v,null);q.deleteTexture(P);q.deleteFramebuffer(E)}var v=q.FRAMEBUFFER,n=q.NEAREST,E=q.createFramebuffer();q.bindFramebuffer(v,E);var P=q.createTexture();q.bindTexture(q.TEXTURE_2D,P);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,
n);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,n);q.texImage2D(q.TEXTURE_2D,0,B,1,1,0,q.RGBA,G,null);q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,P,0);if(q.checkFramebufferStatus(q.READ_FRAMEBUFFER||q.FRAMEBUFFER)!==q.FRAMEBUFFER_COMPLETE)return M(),!1;Ga.zb(q);q.clearColor(0,0,0,0);q.viewport(0,0,1,1);q.disable(q.DEPTH_TEST);q.clear(q.COLOR_BUFFER_BIT);S.Ca(q);q.bindFramebuffer(v,null);Ga.Oa(q);q.activeTexture(q.TEXTURE0);q.bindTexture(q.TEXTURE_2D,P);S.Ca(q);B=new Uint8Array(4);
q.readPixels(0,0,1,1,q.RGBA,q.UNSIGNED_BYTE,B);M();return 3<Math.abs(B[0]-127)?!1:!0},Xa:function(q){var B={X:!1,Y:!1};q.disable(q.BLEND);q.clearColor(0,0,0,0);q.clear(q.COLOR_BUFFER_BIT);q.RGBA32F&&D.Qa(q,q.RGBA32F,q.FLOAT)&&(B.X=!0);!B.X&&D.Qa(q,q.RGBA,q.FLOAT)&&(B.X=!0);var G=D.hb(q);q.RGBA16F&&D.Qa(q,q.RGBA16F,G)&&(B.Y=!0);!B.Y&&D.Qa(q,q.RGBA,G)&&(B.Y=!0);return B},Yc:function(){var q=K.instance({width:1});q.yc();var B=Z.instance({width:1,isFloat:!0,Ia:3});q.m();B.m();a.flush();a.checkFramebufferStatus(K.kd())!==
a.FRAMEBUFFER_COMPLETE?(Z.Md(),F.fb=!1):F.fb=!0;q.remove();B.remove()},Xc:function(){var q=D.Xa(a);Object.assign(F,q);if(!F.X&&!F.Y)return!1;D.Yc();return!0},i:function(){Z.i();Ga.i();K.i();S.i();h=!1}};return D}(),Ha=function(){function b(B,G,M,v){k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,v?k.NEAREST_MIPMAP_NEAREST:k.LINEAR);var n=null;if(null!==M)try{n=k.getError();if("FUCKING_BIG_ERROR"===n)return!1;k.texImage2D(k.TEXTURE_2D,0,B,2,2,0,k.RGBA,G,M);n=k.getError();if(n!==k.NO_ERROR)return!1}catch(E){return!1}v&&
k.generateMipmap(k.TEXTURE_2D);k.clear(k.COLOR_BUFFER_BIT);S.Ca(k);n=k.getError();if("FUCKING_BIG_ERROR"===n)return!1;k.readPixels(0,0,1,1,k.RGBA,k.UNSIGNED_BYTE,C);n=k.getError();n===k.INVALID_OPERATION&&"undefined"!==typeof k.PIXEL_PACK_BUFFER&&(k.bindBuffer(k.PIXEL_PACK_BUFFER,null),k.readPixels(0,0,1,1,k.RGBA,k.UNSIGNED_BYTE,C),n=k.getError());if(n!==k.NO_ERROR)return!1;if(M=0!==C[0])e.tc=G,e.jc=B;return M}function d(B,G){return F.X&&b(B,k.FLOAT,new Float32Array(A),G)?(r=l.Gb,!0):!1}function f(B,
G,M){if(!F.Y)return!1;var v=Ia.za(k);if(v&&v.HALF_FLOAT_OES&&b(B,v.HALF_FLOAT_OES,new Uint16Array(A),G)||k.HALF_FLOAT&&b(B,k.HALF_FLOAT,new Uint16Array(A),G)||b(B,k.FLOAT,new Float32Array(A),G))return r=l.oa,!0;k.bindTexture(k.TEXTURE_2D,M);k.texImage2D(k.TEXTURE_2D,0,k.RGBA,1,1,0,k.RGBA,k.UNSIGNED_BYTE,null);k.bindFramebuffer(e.xa,q);Z.Zb(k,M,1,1,new Float32Array(A),!1,!1);k.bindFramebuffer(e.xa,null);k.bindTexture(k.TEXTURE_2D,M);return b(B,null,null,G)?(r=l.oa,!0):!1}function h(B,G,M){z=!0;if(f(B,
!0,M)||d(G,!0))return!0;z=!1;return f(B,!1,M)||d(G,!1)?!0:!1}function t(B){if(r===l.O){k=B||a;r=l.RGBA8;z=!0;Ia.Rb(k);F||(F=Ia.Xa(k));K.reset();q=k.createFramebuffer();e.xa=k.DRAW_FRAMEBUFFER||k.FRAMEBUFFER;k.bindFramebuffer(e.xa,null);k.clearColor(0,0,0,0);k.viewport(0,0,1,1);w.O();I=w.Oa(k);B=k.createTexture();k.activeTexture(k.TEXTURE0);k.bindTexture(k.TEXTURE_2D,B);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_S,k.REPEAT);k.texParameteri(k.TEXTURE_2D,k.TEXTURE_WRAP_T,k.REPEAT);k.texParameteri(k.TEXTURE_2D,
k.TEXTURE_MAG_FILTER,k.NEAREST);D=B;var G=B=k.RGBA,M=k.RGBA16F,v=k.RGBA32F;v&&(B=v);M&&(G=M);if((M||v)&&h(G,B,D))return u(),!0;B=G=k.RGBA;if(h(G,B,D))return u(),!0;r=l.RGBA8;u();return!1}}function u(){k.deleteProgram(I.ha);k.deleteTexture(D);D=I=null}var l={O:-1,Gb:3,oa:2,RGBA8:0},r=l.O,e={tc:null,jc:null,xa:null},z=!0,C=new Uint8Array(4),g=[.8,1,.8,1],A=g.concat(g,g,g),k=null,F=null,I=null,D=null,q=null;return{Sc:function(B){t(B);return z},Kb:function(B,G){r===l.O&&(typeof("undefined"!==G)&&(F=G),
t(B));return r!==l.RGBA8},Ge:function(B){t(B);return r===l.Gb},wd:function(B){t(B);return r===l.oa},ue:function(B){t(B);return e.tc},jd:function(B){t(B);return e.jc},i:function(){k=null;z=!0;r=l.O;F=null}}}(),La={instance:function(b){var d=Z.instance(b.alpha),f=Z.instance(b.beta);return{$c:function(){d.b(1);f.b(2)}}}},Na={instance:function(b){var d=null,f=!1,h=!1,t=null,u=!1,l=!1,r=null,e="undefined"===typeof b.preprocessing?!1:b.preprocessing,z="undefined"===typeof b.preprocessingSize?b.size:b.preprocessingSize;
b.mask&&(f=!0,SETTINGS&&void 0!==SETTINGS.Nc&&(b.mask=SETTINGS.Nc+b.mask),d=Z.instance({isFloat:!1,url:b.mask}));var C=!1;b.customInputShader&&(C="s44",w.V({name:"_",id:C,a:b.customInputShader,c:["uSource"],precision:"lowp"}),w.C(C,[{type:"1i",name:"_",value:0}]));switch(e){case "sobel":r="s31";u=!0;break;case "meanNormalization":r="s32";u=!0;break;case "grayScale":r="s28";u=!1;break;case "grayScaleTilt":r="s29";l=!0;u=!1;break;case "rgbGrayTilt":r="s30";l=!0;u=!1;break;case "copy":r=C?C:"s0";break;
case "inputLightRegulation":r=C?C:"s28";t=Ma.instance({ic:z,sc:b.size,pc:b.nBlurPass,vd:!1});h=!0;break;case "direct":case "none":r=!1;break;default:r="s3"}l&&w.C(r,[{name:"u26",type:"1f",value:b.tilt}]);f&&(r+="Mask");var g=Z.instance({isFloat:!1,isPot:!1,width:b.size}),A={j:function(){return z},ib:function(){return A.j()},nd:function(){return h?t.ec():g},N:function(){K.P();r&&(w.set(r),u&&w.u("u27",1/b.size),g.B(),f&&d.b(1),S.f(!1,!1),g.b(0),h&&t.process(g))},i:function(){g.remove();f&&d.remove()}};
return A}},Ta={instance:function(b){"undefined"===typeof b.disableNormalize&&(b.disableNormalize=!1);var d={input:null,ta:null,mb:null,S:null,Ja:null,rb:null,sb:null},f=null,h=[],t=[],u=!1,l=null,r=!0,e=-1,z=b.isReorganize?b.isReorganize:!1,C=b.kernelsNumber?!0:!1,g=b.dynPelu?La.instance(b.dynPelu):!1,A=g?!0:!1,k={isEnabled:!1};b.ud?(b.sparsity="undefined"!==typeof b.sparsity?b.sparsity:b.Ka.ib(),r=!1):"full"===b.connectivityUp&&(b.sparsity=b.Ka.ib());var F={elu:"s15",elu01:"s16",relu:"s14",arctan:"s18",
sigmoid:"s13",copy:"s0",softplus:"s19",dynPelu:"s17"}[b.activation],I=b.sparsity*b.sparsity,D=!1,q=b.size,B="";if(b.maxPooling){switch(b.maxPooling.size){case 2:B="s33";break;case 4:B="s34"}D=!0;q/=b.maxPooling.size;d.rb=Z.instance({isFloat:!0,isPot:!1,width:q})}var G=void 0!==b.Ad&&b.Ad?!0:!1,M=null,v=null,n=null;if(G){M="s45"+b.index.toString();w.hc("s45",M,[((b.normalization.n-1)/2).toFixed(1)]);w.C(M,[{type:"1i",name:"u1",value:0},{type:"2f",name:"u7",value:[1/b.size,1/b.size]},{type:"1f",name:"u6",
value:b.normalization.alpha},{type:"1f",name:"u9",value:b.normalization.beta},{type:"1f",name:"u31",value:b.normalization.k}]);var E={isFloat:!0,isPot:!0,width:b.size};v=Z.instance(E);n=Z.instance(E)}var P=-1,Y=null;r&&(d.S=Z.instance({isFloat:!0,isPot:!1,width:b.size}));d.ta=Z.instance(b.bias);var la={j:function(){return b.size},ib:function(){return q},bc:function(){return b.classesCount},Pc:function(J){f.b(J)},Cd:function(){b.remap&&b.remap.isEnabled&&(k={isEnabled:!0,yd:Z.instance({isFloat:!1,
isFlipY:!1,array:new Uint8Array(b.remap.maskTexture.data),width:b.remap.maskTexture.width,isPot:!1}),Ha:b.remap.layers.map(function(J){return b.parent.ld(J)}),depth:b.remap.depth})},Nd:function(){switch(b.connectivityUp){case "direct":Y=Oa.instance(b.connectivity);break;case "square":Y=Pa.instance(b.connectivity);break;case "squareFast":Y=Qa.instance(b.connectivity,b.activation);break;case "full":Y=Ra.instance(b.connectivity);break;case "conv":e=b.kernelsNumber,Y=Sa.instance(b.connectivity),z&&(d.Ja=
Z.instance({width:q,isFloat:!0,isFlipY:!1,isPot:!1}))}if(Y.ma){var J=b.size*b.sparsity;P=Math.log(J/b.size)/Math.log(2);d.input=Z.instance({isMipmap:!0,isFloat:!0,isPot:!0,width:J,ob:P});d.mb=Z.instance({isFloat:!0,isPot:!0,width:b.size})}},N:function(J){f=J;Y.ma?(d.input.B(),C&&d.ta.b(2),Y.N(k),d.input.b(0),d.input.ed(P),d.mb.B(),C?w.set("s0"):(w.set("s27"),w.u("u25",I),d.ta.b(1)),d.input.Qc(P,0),S.f(!1,!1),w.set(F),G?v.m():d.S.m(),d.mb.b(0),A&&g.$c(),S.f(!1,!1)):(d.S.B(),d.ta.b(1),Y.N());G&&(w.set(M),
n.m(),v.b(0),S.f(!1,!1),w.set("s46"),w.u("u6",1),d.S.m(),n.b(1),S.f(!1,!1));if(r)return D?(d.rb.B(),d.S.b(0),w.set(B),w.K("u7",1/b.size,1/b.size),S.f(!1,!1),J=d.rb):J=d.S,J.b(0),z&&(d.Ja.m(),w.set("s21"),w.K("u12",e,q/e),S.f(!1,!1),J=d.Ja,d.Ja.b(0)),J;J=d.S;b.disableNormalize||(w.set("gpuRawAvg"===u?"s8":"s7"),w.u("u4",1/b.size),d.sb.B(),d.S.b(0),S.f(!1,!1),J=d.sb);switch(u){case "cpuRGBA2Float":J.Qb(!1);J=la.Gd(J);l(J);break;case "cpuMeanFloat":J.Qb(!0);J=J.Hd();l(J);break;case "gpuRawAvg":case "gpuRaw":J.b(0);
case "none":null!==l&&l(J)}return!1},Uc:function(J){J&&(u=J.tb||"none",l=J.qb||null);d.S=Z.instance({isFloat:!0,isPot:!0,isMipmap:!1,width:b.size});J="undefined"!==typeof b.classesCount&&b.classesCount?b.classesCount:b.size*b.size;for(var p=0,T=0,N=0;p<J;++p)h.push(T+(b.size-1-N)*b.size),t.push([-1,-1,-1,-1]),++T,T===b.size&&(T=0,++N);b.disableNormalize||(d.sb=Z.instance({isFloat:!0,isPot:!0,width:b.size}))},Gd:function(J){var p=J.xc();h.forEach(function(T,N){t[N][0]=p[0][T];t[N][1]=p[1][T];t[N][2]=
p[2][T];t[N][3]=p[3][T]});return t},i:function(){for(var J in d){var p=d[J];p&&p.remove()}Y&&(Y.i(),Y=null)}};b.Ka&&la.Nd(b.Ka);return la}};
function Ua(b){var d=null,f=null,h=null,t=0;this.o=function(u){this.Ld(u.Ha);h.Uc({tb:u.tb,qb:u.qb})};this.ld=function(u){return d[u]};this.Ld=function(u){var l=null;t=u.length;d=u.map(function(r,e){r=Object.assign({},r,{index:e,parent:this,Ka:l,ud:e===t-1});return l=e=0===e?Na.instance(r):Ta.instance(r)});f=d[0];h=d[t-1];d.forEach(function(r,e){0!==e&&r.Cd()})};this.N=function(u,l){var r=l;d.forEach(function(e){r=e.N(r,u)});return r};this.cc=function(){return f.j()};this.ec=function(){return h.nd()};
this.bc=function(){return h.bc()};this.i=function(){d&&(d.forEach(function(u){u.i()}),h=f=d=null,t=0)};"undefined"!==typeof b&&this.o(b)}
var Oa={instance:function(b){var d=Z.instance(b.weights);delete b.weights.data;return{ma:!0,Ea:function(){return 1},i:function(){d.remove()},od:function(){return d},N:function(){w.set("s26");d.b(1);S.f(!1,!1)}}}},Ra={instance:function(b){var d=b.fromLayerSize,f=Z.instance(b.weights);delete b.weights.data;return{ma:!0,Ea:function(){return d},i:function(){f.remove()},N:function(h){if(h.isEnabled){w.set("s24");h.yd.b(3);var t,u=Math.min(h.Ha.length,h.depth);for(t=0;t<u;++t)h.Ha[t].Pc(4+t)}else w.set("s23");
w.u("u16",b.toLayerSize);f.b(1);S.f(!1,!1)}}}},Pa={instance:function(b){for(var d=b.fromLayerSize,f=b.toLayerSize,h=b.toSparsity,t=h*f,u=t/d,l=d/f,r=0,e=0,z=0,C=Array(h*f*h*f*4),g=Array(h*f*h*f*4),A=Array(d*d),k=0;k<A.length;++k)A[k]=0;k=Math.floor(h/2);for(var F=.5/f,I=.5/d,D=.5/t,q=0;q<f;++q)for(var B=Math.round(q*l),G=0;G<f;++G){var M=Math.round(G*l),v=q/f,n=G/f;v+=F;n+=F;for(var E=0;E<h;++E){var P=B+E-k;0>P&&(P+=d);P>=d&&(P-=d);for(var Y=0;Y<h;++Y){var la=r/t,J=e/t,p=M+Y-k;0>p&&(p+=d);p>=d&&(p-=
d);var T=P/d,N=p/d;J=1-J-1/t;T+=I;N+=I;la+=D;J+=D;var c=q*h+E,aa=G*h+Y;aa=f*h-aa-1;c=aa*f*h+c;C[4*c]=la;C[4*c+1]=J;C[4*c+2]=T;C[4*c+3]=N;N=A[p*d+P]++;c=N%u;T=P*u+c;p=p*u+(N-c)/u;p=d*u-1-p;p=p*d*u+T;g[4*p]=la;g[4*p+1]=J;g[4*p+2]=v;g[4*p+3]=n;++r>=t&&(r=0,++e);++z}}}A=null;var pa=Z.instance(b.weights);delete b.weights.data;var ra=Z.instance({width:t,isFloat:!0,array:new Float32Array(g),isPot:!0});g=null;var na=Z.instance({width:t,isFloat:!0,array:new Float32Array(C),isPot:!0});C=null;return{ma:!0,Ea:function(){return u},
i:function(){ra.remove();na.remove();pa.remove()},N:function(){w.set("s22");pa.b(1);na.b(2);S.f(!1,!1)}}}},Sa={instance:function(b){var d=b.kernelsNumber,f=b.toSparsity,h=f*b.toLayerSize/b.fromLayerSize,t=Z.instance(b.weights);delete b.weights.data;return{ma:!0,Ea:function(){return h},Ae:function(){return f},od:function(){return t},i:function(){t.remove()},N:function(){w.set("s25");w.u("u22",d);w.u("u23",f);w.u("u16",b.toLayerSize);w.u("u24",b.fromLayerSize);t.b(1);S.f(!1,!1)}}}},Qa={instance:function(b,
d){var f=b.fromLayerSize,h=b.toLayerSize,t=b.toSparsity,u=b.stride?b.stride:1,l=t*h/f,r=h<f,e=f/h,z=Z.instance(b.weights);delete b.weights.data;var C="s47"+[f.toString(),h.toString(),t.toString(),u.toString(),d].join("_");w.cd(C)||(b=za(d),h=[{type:"1f",name:"u16",value:h},{type:"1f",name:"u30",value:u}],r&&h.push({type:"1f",name:"u24",value:f}),f=[(r?l:t).toFixed(1),b],r&&f.push(e.toFixed(1)),w.hc(r?"s39":"s38",C,f),w.C(C,h.concat([{type:"1i",name:"u14",value:0},{type:"1i",name:"u21",value:1},{type:"1i",
name:"u13",value:3}])));return{ma:!1,Ea:function(){return l},i:function(){z.remove()},N:function(){w.set(C);z.b(3);S.f(!1,!1)}}}},Ma={instance:function(b){var d=b.pc?b.pc:3,f=b.ic?b.ic:64,h=b.sc?b.sc:64,t=b.vd?!0:!1;b={isFloat:!1,width:f,isPot:!1,isFlipY:!1};var u=Z.instance(b),l=Z.instance(b),r=Z.instance(b),e=Z.instance(b),z=Z.instance({isFloat:!0,width:h,isPot:!1,isFlipY:!1}),C=1/f;return{process:function(g){w.set("s35");e.m();S.f(t,!1);w.set("s36");for(var A=0;A<d;++A)u.m(),w.K("u7",C,0),S.f(t,
!1),r.m(),e.b(0),S.f(t,!1),l.m(),u.b(0),w.K("u7",0,C),S.f(t,!1),e.m(),r.b(0),S.f(t,!1),A!==d-1&&l.b(0);w.set("s37");z.m();g.b(0);l.b(1);e.b(2);S.f(t,!1);z.b(0)},ec:function(){return z}}}},Va=function(){function b(l){K.I();w.set("s1");a.viewport(0,0,1,1);S.f(!1,!1);a.readPixels(0,0,1,1,a.RGBA,a.UNSIGNED_BYTE,l);K.P()}var d=!1,f=!1,h=null,t=null,u={o:function(){var l={u1:0};w.V({id:"s49",name:"_",a:"varying vec2 vv0;uniform sampler2D u1;uniform vec2 u27;const vec3 f=vec3(.3333,.3333,.3333);const vec4 h=vec4(1.,1.,1.,1.);void main(){vec4 a=vec4(0.);a-=texture2D(u1,vec2(vv0.x-u27.x,vv0.y-u27.y))*1.,a-=texture2D(u1,vec2(vv0.x-u27.x,vv0.y))*2.,a-=texture2D(u1,vec2(vv0.x-u27.x,vv0.y+u27.y))*1.,a+=texture2D(u1,vec2(vv0.x+u27.x,vv0.y-u27.y))*1.,a+=texture2D(u1,vec2(vv0.x+u27.x,vv0.y))*2.,a+=texture2D(u1,vec2(vv0.x+u27.x,vv0.y+u27.y))*1.;vec4 b=vec4(0.);b-=texture2D(u1,vec2(vv0.x-u27.x,vv0.y-u27.y))*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u27.y))*2.,b-=texture2D(u1,vec2(vv0.x+u27.x,vv0.y-u27.y))*1.,b+=texture2D(u1,vec2(vv0.x-u27.x,vv0.y+u27.y))*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u27.y))*2.,b+=texture2D(u1,vec2(vv0.x+u27.x,vv0.y+u27.y))*1.;vec3 e=sqrt(a.rgb*a.rgb+b.rgb*b.rgb);vec4 c=texture2D(u1,vv0),g=vec4(e,c.a);gl_FragColor=vec4(dot(g.rgb,f),dot(c.rgb,f),0.,1.);}",
c:["u1","u27"],g:l});w.V({id:"s50",name:"_",a:"uniform sampler2D u1;uniform vec2 u32;uniform float u33,u34,u35,u36;varying vec2 vv0;void main(){vec2 a=floor(vv0*u34);float d=a.x+a.y*u34,f=u34*u34;vec2 g=fract(vv0*u34),b=u35+g*(1.-2.*u35);float c=d/(f-1.),h=mix(u32.x,u32.y,c);vec2 i=b+h*vec2(1.,1./u36)*vec2(cos(u33),sin(u33));float j=texture2D(u1,i).r;gl_FragColor=vec4(j,b,c);}",c:"u1 u32 u33 u34 u35 u36".split(" "),g:l});w.V({id:"s51",name:"_",a:"uniform sampler2D u1;uniform vec2 u7,u37;varying vec2 vv0;void main(){vec4 a=vec4(0.,0.,0.,0.),b;float e;vec2 g=vv0-u7*2.;for(float c=0.;c<3.9;c+=1.)for(float d=0.;d<3.9;d+=1.)b=texture2D(u1,g+u7*vec2(c,d)),e=step(a.r,b.r),a=mix(a,b,e);gl_FragColor=a;}",
c:["u1","u7","u37"],g:l});w.V({id:"s52",name:"_",a:"uniform sampler2D u1;uniform vec2 u38;uniform float u39;const vec4 f=vec4(0.,1.,0.,1.);varying vec2 vv0;void main(){float a=step(abs(distance(vv0,u38)-u39),1e-3);gl_FragColor=mix(texture2D(u1,vv0),f,a);}",c:["u1","u38","u39"],g:l});d=!0},Te:function(l){d||u.o();w.set("s49");w.K("u27",.5/l.j(),.5/l.R());l.b(0);S.f(!1,!1)},Zc:function(l){w.set("s52");w.$("u38",l.h);w.u("u39",l.A);S.f(!1,!1)},instance:function(l){d||u.o();var r="undefined"===typeof l.Fd?
8:l.Fd,e=l.width,z=l.ub,C=[Math.floor(z[0]*e),Math.ceil(z[1]*e)],g=e-2*C[1],A=l.qc?l.qc:8,k=Math.ceil(("undefined"===typeof l.wc?1:l.wc)*e);g=Math.min(g,2*k);var F=Math.max(C[1],e/2-k)/e,I="undefined"===typeof l.ia?1:l.ia,D=Z.instance({isFloat:!0,isPot:!1,isLinear:!1,isFlipY:!1,width:g*r}),q=1/A,B=Math.ceil(Math.log(D.j())/Math.log(4));l=D.j();var G=Array(B);for(e=0;e<B;++e)G[e]=Z.instance({isFloat:!0,isPot:!1,isLinear:!1,isFlipY:!1,width:Math.ceil(l/Math.pow(4,e+1))});var M=new Uint8Array(4),v={A:-1,
h:[0,0],ia:I};return{Od:function(n){I=n},process:function(n){n.b(0);D.B();a.clearColor(0,0,0,0);a.clear(a.COLOR_BUFFER_BIT);a.enable(a.BLEND);a.blendFunc(a.CONSTANT_ALPHA,a.ONE);a.blendColor(q,q,q,q);w.set("s50");w.$("u32",z);w.u("u34",r);w.u("u35",F);w.u("u36",I);for(n=0;n<A;++n)w.u("u33",2*n*Math.PI/A),S.f(!1,!1);a.disable(a.BLEND);w.set("s51");D.b(0);n=D.j();for(var E=0;E<B;++E){G[E].B();var P=G[E].j();w.K("u37",P,P);w.K("u7",1/n,1/n);S.f(!1,!1);G[E].b(0);n=P}b(M);v.h[0]=M[1]/255;v.h[1]=M[2]/255;
v.A=z[0]+(z[1]-z[0])*M[3]/255;v.ia=I;return v}}},pd:function(){h=Z.instance({width:256,height:1,isFloat:!0});t=Z.instance({width:1,isFloat:!1});var l={u1:0};w.V({id:"s53",name:"_",a:"uniform sampler2D u1;uniform vec2 u32,u38;varying vec2 vv0;void main(){float f=mix(u32.x,u32.y,vv0.x),b=0.,a=0.;vec2 c;for(float d=0.;d<51.;d+=1.)c=f*vec2(cos(a),sin(a)),b+=texture2D(u1,u38+c).r,a+=.123137;gl_FragColor=vec4(b/51.,0.,0.,1.);}",c:["u1","u32"],g:l});w.V({id:"s54",name:"_",a:"uniform sampler2D u1;varying vec2 vv0;void main(){float b=0.,c=0.,d=0.,e;for(float a=0.;a<255.9;a+=1.)d=texture2D(u1,vec2(a/255.,.5)).r,e=step(b,d),b=mix(b,d,e),c=mix(c,a,e);gl_FragColor=vec4(c/255.,0.,0.,1.);}",
c:["u1"],g:l});f=!0},De:function(l){f||u.pd();var r="undefined"===typeof l.h?[0,0]:l.h,e="undefined"===typeof l.ub?[0,0]:l.ub,z=new Uint8Array(4),C={h:r,A:0};return{set:function(g,A){r[0]=g[0];r[1]=g[1];e[0]=A[0];e[1]=A[1]},process:function(g){w.set("s53");w.$("u32",e);w.$("u38",r);h.B();g.b(0);S.f(!1,!1);w.set("s54");t.B();S.f(!1,!1);t.b(0);b(z);C.A=e[0]+(e[1]-e[0])*z[0]/255;return C}}}};return u}();function Wa(b,d){b[d]=!0;b.setAttribute(d,"true")}
function Xa(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}function Ya(){var b=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return 2<b.length?[parseInt(b[1],10),parseInt(b[2],10),parseInt(b[3]||0,10)]:[0,0,0]}function Za(){var b=navigator.userAgent.toLowerCase();return-1!==b.indexOf("safari")&&-1===b.indexOf("chrome")?!0:!1}function $a(){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?!0:!1}
function ab(b){if(!b)return b;var d=!1;if(b.video){var f=function(h){var t={};"undefined"!==typeof h.min&&(t.min=h.min);"undefined"!==typeof h.max&&(t.max=h.max);"undefined"!==typeof h.ideal&&(t.ideal=h.ideal);return t};d={};"undefined"!==typeof b.video.width&&(d.width=f(b.video.width));"undefined"!==typeof b.video.height&&(d.height=f(b.video.height));"undefined"!==typeof b.video.facingMode&&(d.facingMode=b.video.facingMode)}d={audio:b.audio,video:d};"undefined"!==typeof b.deviceId&&(d.deviceId=b.deviceId);
return d}function bb(b){var d=b.video.width;b.video.width=b.video.height;b.video.height=d;return b}
function cb(b){function d(g){return[480,576,640,648,720,768,800,960,1080,1152,1280,1366,1920].sort(function(A,k){return Math.abs(A-g)-Math.abs(k-g)})}function f(g){var A=ab(b);h.push(g(A))}var h=[];if(!b||!b.video)return h;if(b.video.width&&b.video.height){if(b.video.width.ideal&&b.video.height.ideal){var t=d(b.video.width.ideal).slice(0,3),u=d(b.video.height.ideal).slice(0,3),l={},r=0;for(l.ca=void 0;r<t.length;l={ca:l.ca},++r){l.ca=t[r];var e={},z=0;for(e.ba=void 0;z<u.length;e={ba:e.ba},++z)if(e.ba=
u[z],l.ca!==b.video.width.ideal||e.ba!==b.video.height.ideal){var C=Math.max(l.ca,e.ba)/Math.min(l.ca,e.ba);C<4/3-.1||C>16/9+.1||f(function(g,A){return function(k){k.video.width.ideal=g.ca;k.video.height.ideal=A.ba;return k}}(l,e))}}}f(function(g){return bb(g)})}b.video.width&&b.video.height&&(b.video.width.ideal&&b.video.height.ideal&&f(function(g){delete g.video.width.ideal;delete g.video.height.ideal;return g}),f(function(g){delete g.video.width;delete g.video.height;return g}));b.video.facingMode&&
(f(function(g){delete g.video.facingMode;return g}),b.video.width&&b.video.height&&f(function(g){bb(g);delete g.video.facingMode;return g}));h.push({audio:b.audio,video:!0});return h}function db(b){try{var d=window.matchMedia("(orientation: portrait)").matches?!0:!1}catch(h){d=window.innerHeight>window.innerWidth}if(d&&b&&b.video){d=b.video.width;var f=b.video.height;d&&f&&d.ideal&&f.ideal&&d.ideal>f.ideal&&(b.video.height=d,b.video.width=f)}}
function eb(b){b.volume=0;Wa(b,"muted");if(Za()){if(1===b.volume){var d=function(){b.volume=0;window.removeEventListener("mousemove",d,!1);window.removeEventListener("touchstart",d,!1)};window.addEventListener("mousemove",d,!1);window.addEventListener("touchstart",d,!1)}setTimeout(function(){b.volume=0;Wa(b,"muted")},5)}}
function fb(b,d,f,h){function t(l){u||(u=!0,f(l))}var u=!1;navigator.mediaDevices.getUserMedia(h).then(function(l){function r(){setTimeout(function(){if(b.currentTime){var e=b.videoWidth,z=b.videoHeight;if(0===e||0===z)t("VIDEO_NULLSIZE");else{e&&(b.style.width=e.toString()+"px");z&&(b.style.height=z.toString()+"px");e={Tc:null,Td:null,zd:null};try{var C=l.getVideoTracks()[0];C&&(e.zd=C,e.Tc=C.getCapabilities(),e.Td=C.getSettings())}catch(g){}Za()||Xa()?b.parentNode&&null!==b.parentNode?(u||d(b,l,
e),setTimeout(function(){b.play()},100)):(document.body.appendChild(b),eb(b),u||d(b,l,e),setTimeout(function(){b.style.transform="scale(0.0001,0.0001)";b.style.position="fixed";b.style.bottom="0px";b.style.right="0px";eb(b);setTimeout(function(){b.play()},100)},80)):u||d(b,l,e)}}else t("VIDEO_NOTSTARTED")},700)}"undefined"!==typeof b.srcObject?b.srcObject=l:(b.src=window.URL.createObjectURL(l),b.videoStream=l);eb(b);b.addEventListener("loadeddata",function(){var e=b.play();eb(b);"undefined"===typeof e?
r():e.then(function(){r()}).catch(function(){t("VIDEO_PLAYPROMISEREJECTED")})},!1)}).catch(function(l){t(l)})}
function gb(b,d,f){var h=$a()?document.createElement("video"):!1;if(h)if($a()){if(f&&f.video){if(Xa()){var t=Ya();(12>t[0]||12===t[0]&&2>t[1])&&db(f)}f.video.width&&f.video.width.ideal&&(h.style.width=f.video.width.ideal+"px");f.video.height&&f.video.height.ideal&&(h.style.height=f.video.height.ideal+"px")}Wa(h,"autoplay");Wa(h,"playsinline");f&&f.audio?h.volume=0:Wa(h,"muted");fb(h,b,function(){function u(r){if(0===r.length)d("INVALID_FALLBACKCONSTRAINTS");else{var e=r.shift();fb(h,b,function(){u(r)},
e)}}var l=cb(f);u(l)},f)}else d&&d("MEDIASTREAMAPI_NOTFOUND");else d&&d("VIDEO_NOTPROVIDED")}
var hb=function(){var b={n:5,pb:1,oc:0,Da:[30,45],ya:[2,200],k:.7,Yd:200,Bd:.05},d=-1,f=null,h=-1,t=-1,u=0,l=-1,r=-1,e=0,z=0,C=b.ya[1],g={md:function(){switch(d){case -1:return-1;case 0:return r+f.oc;case 1:return e}},me:function(A){return Math.pow(Math.min(Math.max(l,0),f.n-1)/(f.n-1),A||1)},o:function(A){f=Object.assign({},b,A);l=r=f.pb;d=0},Ud:function(A){A=("undefined"===typeof A?Date.now():A)||0;var k=Math.min(Math.max(A-z,f.ya[0]),f.ya[1]);C=k;z=A;var F=-1===h?0:f.k;h=Math.min(Math.max(1E3/
k,5),120)*(1-F)+h*F;A-t>f.Yd&&5<++u&&(k=f.k,l=l*(1-k)+(h<f.Da[0]?r-1:h>f.Da[1]?r+1:r)*k,Math.abs(l-r)>1-f.Bd&&(k=Math.min(Math.max(Math.round(l),0),f.n-1),k!==r&&(l=r=k,h=(f.Da[1]-f.Da[0])/2)),t=A)},Kd:function(A){e=A;d=1},Ve:function(){d=0;g.reset()},reset:function(){C=b.ya[1];t=h=-1;u=0},hd:function(){return C}};return g}();
window.JEEPUPILAPI=function(){var b,d,f,h,t,u,l,r,e,z,C,g;function A(){return{h:[.5,.5],scale:[1,1],L:!1,Ra:!1,ja:!1,G:{h:[.5,.5],A:0,ia:1},T:{h:[.5,.5],A:0}}}function k(m){if(ja!==X.pause){var y=ja===X.play?W.Ua:c.Mc;ea=setTimeout(D.bind(null,m),y)}}function F(){if(-1!==[X.play,X.ga].indexOf(ja))return!1;ja=X.play;fa&&window.cancelAnimationFrame(fa);D(0)}function I(m,y,ha,x){m=4*m+y;return ha+(qa[m]/255+qa[m+8]/65025)*(x-ha)}function D(){if(ja!==X.pause){w.bd();S.reset();S.ua();a.disable(a.DEPTH_TEST);
K.P();w.ra();var m=Q.element.currentTime-Q.La;0>m&&(Q.La=Q.element.currentTime);1E3*m<c.$d||(Q.L.refresh(),Q.La+=m,w.set("s63"),Q.sa.B(),Q.L.b(0),S.f(!1,!1));m=hb.md();for(var y=0;y<m;++y)sa=y===m-1,w.set("s64"),ya.B(),Q.sa.b(0),ma.b(1),S.f(!1,!1),ya.b(0),oa.N(!1,ya);hb.Ud();K.I();a.viewport(0,0,2,2);w.set("s55");ma.b(0);S.f(!1,!1);a.readPixels(0,0,2,2,a.RGBA,a.UNSIGNED_BYTE,qa);da.x=I(0,1,-1,1);da.y=I(0,2,-1,1);da.yb=I(0,3,0,1);da.vb=I(1,0,-c.na[0],c.na[0]);da.wb=I(1,1,-c.na[1],c.na[1]);da.xb=I(1,
2,-c.na[2],c.na[2]);da.va=I(1,3,0,1);V.Wc=da.va-O.detected;V.bb=da.x-O.x;V.cb=da.y-O.y;V.ab=da.yb-O.s;V.Ya=da.vb-O.rx;V.Za=da.wb-O.ry;V.$a=da.xb-O.rz;y=hb.hd();m=Math.sqrt(V.bb*V.bb+V.cb*V.cb+V.ab*V.ab)/y;y=Math.sqrt(V.Ya*V.Ya+V.Za*V.Za+V.$a*V.$a)/y;m=1-va(c.Nb[0],c.Nb[1],m);y=1-va(c.vc[0],c.vc[1],y);m=m*y*va(c.uc[0],c.uc[1],da.va);y=ta[++Ba%ta.length]=m;for(var ha=0;ha<ta.length;++ha)y=Math.min(y,ta[ha]);y=Math.max(.5,y);m=Math.min(y,m);m=ka(c.Hb[0],c.Hb[1],1-Math.pow(m,c.Kc));O.x=ka(O.x,da.x,m);
O.y=ka(O.y,da.y,m);O.s=ka(O.s,da.yb,m);O.rx=ka(O.rx,da.vb,m);O.ry=ka(O.ry,da.wb,m);O.rz=ka(O.rz,da.xb,m);O.detected=ka(O.detected,da.va,c.Jc);!ca.la&&O.detected>c.Pb+c.Ob?ca.la=!0:ca.la&&O.detected<c.Pb-c.Ob&&(ca.la=!1);if(ca.la){K.P();var x=H/ia;m=O.x+c.ad*O.ry*O.s;y=O.y+O.s*c.Xb[1]*x;var L=O.s*c.Xb[0]*x;ha=O.s*c.Ba[0];x*=O.s*c.Ba[1];ha*=2*Q.M[0];x*=2*Q.M[1];m*=2*Q.M[0];y*=2*Q.M[1];L*=Q.M[0];0<O.rx&&(y*=Math.cos(c.dd*O.rx));var ba=L;ba=0>O.ry?ba+Math.sin(O.ry)*c.Aa[0]:ba-Math.sin(O.ry)*c.Aa[1];ca.v[0].h[0]=
m+ba;ca.v[0].h[1]=y;ca.v[0].scale[0]=ha;ca.v[0].scale[1]=x;L=0<O.ry?L-Math.sin(O.ry)*c.Aa[0]:L+Math.sin(O.ry)*c.Aa[1];ca.v[1].h[0]=m-L;ca.v[1].h[1]=y;ca.v[1].scale[0]=ha;ca.v[1].scale[1]=x;ca.v.forEach(q)}K.Xd();ca.la&&(a.viewport(0,ia/2,H/2,ia/2),B(ca.v[1]),a.viewport(H/2,ia/2,H/2,ia/2),B(ca.v[0]),a.viewport(H/2,ia/4,H/4,ia/4),G(ca.v[1]),a.viewport(H/2+H/4,ia/4,H/4,ia/4),G(ca.v[0]),a.viewport(H/2,0,H/4,ia/4),M(ca.v[1]),a.viewport(H/2+H/4,0,H/4,ia/4),M(ca.v[0]),a.viewport(0,0,H/2,ia/2));w.set("s56");
ma.b(0);Q.sa.b(1);S.f(!1,!1);W.Va&&(O.pupilLeftRadius=ca.v[0].T.A,O.pupilRightRadius=ca.v[1].T.A,W.Va(O));if(ja===X.play||ja===X.ga)fa=window.requestAnimationFrame(k)}}function q(m){w.set("s57");w.K("u27",ra*m.scale[0],ra*m.scale[1]);w.$("u38",m.h);w.$("u4",m.scale);w.u("u40",na);m.L.B();Q.L.b(0);S.f(!1,!1);var y=Aa.process(m.L);m.G.h[0]=ka(m.G.h[0],y.h[0],c.nb);m.G.h[1]=ka(m.G.h[1],y.h[1],c.nb);m.G.A=ka(m.G.A,y.A,c.nb);m.G.ia=y.ia;w.set("s58");w.K("u38",m.h[0]+m.scale[0]*(2*m.G.h[0]-1),m.h[1]+m.scale[1]*
(2*m.G.h[1]-1));w.K("u4",2*m.G.A*m.scale[0],2*m.G.A*m.scale[1]);Q.L.b(0);m.Ra.B();S.f(!1,!1);y=m.ja.j();var ha=(c.fa-y)/2;w.set("s59");w.u("u41",pa);w.K("u42",ha/c.fa,y/c.fa);m.ja.B();m.Ra.b(0);S.f(!1,!1);Z.Id(m.ja,Ea);K.P();for(var x=0,L=[.5,.5],ba=0;ba<y;++ba)for(var U=0;U<y;++U){var wa=Ea[4*(U+ba*y)];wa>x&&(x=wa,L[0]=(U+ha)/c.fa,L[1]=(ba+ha)/c.fa)}m.T.h[0]=L[0];m.T.h[1]=L[1];m.T.A=c.Ma[0]+x/255*(c.Ma[1]-c.Ma[0]);m.T.A*=.5}function B(m){m.L.b(0);w.set("s60");w.$("u38",m.G.h);w.u("u43",m.G.A);w.u("u44",
m.G.ia);S.f(!1,!1)}function G(m){m.Ra.b(0);w.set("s61");w.$("u38",m.T.h);w.u("u45",m.T.A);S.f(!1,!1)}function M(m){m.ja.b(0);w.set("s62");S.f(!1,!1)}function v(){Q.sa=Z.instance({isPot:!0,isMirror:!0,isLinear:!0,isFloat:!1,width:H,height:ia});ya=Z.instance({isPot:!0,isFloat:!1,width:oa.cc()});var m={width:2,height:1,isFloat:!0,isPot:!1,array:new Float32Array([0,c.borderWidth,c.borderHeight,0,0,0,0,0])};ma=Ka.instance(m);qa=new Uint8Array(8*m.width);da={va:0,x:0,y:0,yb:1,vb:0,wb:0,xb:0};O={detected:0,
x:0,y:0,s:1,rx:0,ry:0,rz:0,pupilLeftRadius:0,pupilRightRadius:0};V={Wc:0,bb:0,cb:0,ab:0,Ya:0,Za:0,$a:0};ca.v.forEach(function(y){y.L=Z.instance({isPot:!1,isLinear:!0,isFloat:!0,width:c.eb,height:Math.round(c.eb*c.Ba[1]/c.Ba[0])});y.Ra=Z.instance({isPot:!0,isLinear:!0,isFloat:!0,isMipmap:!1,width:c.fa});y.ja=Z.instance({isPot:!1,isLinear:!1,isFloat:!1,width:Math.round(c.Dd*c.fa)});Ea=new Uint8Array(y.ja.j()*y.ja.j()*4)})}function n(){w.C("s64",[{type:"1i",name:"u1",value:0},{type:"1i",name:"u48",value:1},
{type:"2f",name:"u49",value:xa}]);w.C("s65",[{type:"1i",name:"u50",value:0},{type:"1i",name:"u48",value:1},{type:"1f",name:"u53",value:c.minScaleTracked},{type:"1f",name:"u54",value:c.maxScaleTracked},{type:"1f",name:"u55",value:c.Vd},{type:"1f",name:"u56",value:c.Gc},{type:"1f",name:"u57",value:c.Ec},{type:"3f",name:"u52",value:[c.Cb[0]*xa[0],c.Cb[1]*xa[1],c.Cb[2]]}]);w.C("s66",[{type:"1i",name:"u50",value:0}]);w.C("s55",[{type:"1i",name:"u48",value:0},{type:"1f",name:"u58",value:xa[0]}]);w.C("s56",
[{type:"1i",name:"u48",value:0},{type:"1i",name:"u59",value:1},{type:"2f",name:"u49",value:xa}]);var m=[{type:"1i",name:"u1",value:0}];w.C("s57",m);w.C("s58",m);w.C("s59",[{type:"2f",name:"u32",value:c.Ma}].concat(m));w.C("s60",m);w.C("s61",m);w.C("s62",m)}function E(){var m=oa.cc(),y=H/m;h=c.minScale*y;t=c.maxScale*y;u=(1-2*c.borderWidth)/c.nStepsX;l=(1-2*c.borderHeight)/c.nStepsY;r=(t-h)/c.nStepsScale;e=c.borderWidth;z=c.borderHeight;C=1-c.borderWidth;g=1-c.borderHeight;xa=[m/H,m/ia];b=0;d=c.borderWidth;
f=c.borderHeight;R=h}function P(m){ua(W.Fb+c.neuralNetworkPath,function(y){y=JSON.parse(y);m(y)})}function Y(){if(Ja.o({Wa:W.W,width:H,height:ia,debug:!1,rc:function(){N("GLCONTEXT_LOST")},antialias:!0,premultipliedAlpha:!0}))return!0;N("GL_INCOMPATIBLE");return!1}function la(){ma.Pd(1);a.viewport(0,0,1,1);w.set("s65");w.Rd("u51",d,f,R);S.f(!1,!1);sa&&(a.viewport(1,0,1,1),w.set("s66"),S.f(!1,!1));1!==++b%2&&(R+=r,R>t&&(d+=u,R=h,d>C&&(d=e,f+=l,f>g&&(f=z))))}function J(){w.C("s63",[{type:"1i",name:"u1",
value:0},{type:"2f",name:"u46",value:Q.M}])}function p(){Q.M[0]=.5;Q.M[1]=.5;var m=Q.wa[1]/Q.wa[0],y=Ja.R()/Ja.j();m>y?Q.M[1]*=y/m:Q.M[0]*=m/y}function T(m,y,ha){m&&m();m={video:{width:{min:aa.minWidth,max:aa.maxWidth,ideal:aa.idealWidth},height:{min:aa.minHeight,max:aa.maxHeight,ideal:aa.idealHeight}},audio:!1};aa.deviceId&&(m.deviceId=aa.deviceId);gb(function(x){y&&y(x);ha(x)},function(){N("WEBCAM_UNAVAILABLE")},m)}function N(m){ja!==X.error&&(ja=X.error,W.qa&&W.qa(m))}var c={neuralNetworkPath:"jeelizPupillometryNNC.json",
Lc:0,Mc:25,Sa:[2,5],Fc:2,minScale:.3,maxScale:1.1,borderWidth:.2,borderHeight:.2,nStepsX:6,nStepsY:5,nStepsScale:3,Cb:[.1,.1,.25],Vd:60,minScaleTracked:.6,maxScaleTracked:20,Gc:.7,Ec:1,Nb:[.0015,.005],vc:[.003,.02],uc:[.9,.98],na:[.49,.42,.17],Hb:[.3,1],Jc:.2,Kc:2,Pb:.5,Ob:.03,Xb:[.9,.57],Ba:[.22,.22],ad:.5,eb:256,Aa:[0,0],dd:3,Cc:[.21,.24],Bc:40,Dc:.4,fa:128,nb:1,rd:.005,Ma:[.07,.65],Dd:.15,Ed:.025,$d:20},aa={idealWidth:3264,idealHeight:2448,minWidth:1920,maxWidth:7680,minHeight:1080,maxHeight:4320},
pa=c.Ed,ra=c.rd,na=-1,ca={la:!1,v:[A(),A()]},X={xd:-1,error:-2,fc:0,play:1,pause:2,ga:3},ja=X.fc,Q={element:!1,L:!1,sa:!1,wa:[0,0],M:[.5,.5],La:0},W={qa:!1,Va:!1,Fb:"./",W:!1,Ua:c.Lc,kc:!0},oa=null;var R=f=d=b=t=h=g=C=z=e=r=l=u=0;var H=-1,ia=-1,xa=null,ya=null,ma=null,qa=null,da=null,O=null,V=null,ea=null,fa=null,sa=!1,Ea=null,ta=new Float32Array(12),Ba=0,Aa=null,Ca={init:function(m){function y(){ja!==X.error&&2===++ha&&(p(),Q.L=Z.instance({H:Q.element,isPot:!1,isFloat:!1,isFlipY:!0,isLinear:!0}),
J(),W.qa&&(W.qa(!1,{GL:a,canvasElement:W.W,videoTexture:Q.sa.get()}),a.disable(a.BLEND)),F())}if(ja!==X.fc)return m.callbackReady&&m.callbackReady("ALREADY_INITIALIZED"),!1;ja=X.xd;m.callbackReady&&(W.qa=m.callbackReady);m.callbackTrack&&(W.Va=m.callbackTrack);"undefined"!==typeof m.animateDelay&&(W.Ua=m.animateDelay);hb.o({pb:0,n:c.Sa[1]-c.Sa[0]+1,oc:c.Sa[0]});W.kc="undefined"===typeof m.isAdaptative?!0:m.isAdaptative;W.kc||hb.Kd(c.Fc);"undefined"!==typeof m.NNCpath&&(W.Fb=m.NNCpath);if(!m.canvasId)return N("NO_CANVASID"),
!1;W.W=document.getElementById(m.canvasId);if(!W.W)return N("INVALID_CANVASID"),!1;H=W.W.width;ia=W.W.height;if(!H||!ia)return N("INVALID_CANVASDIMENSIONS"),!1;var ha=0;T(m.onWebcamAsk,m.onWebcamGet,function(x){if(ja!==X.error){var L=x.videoHeight;Q.wa[0]=x.videoWidth;Q.wa[1]=L;Q.element=x;y&&y()}});P(function(x){if(!Y())return!1;oa=new Ua({Ha:x.layers,tb:"gpuRawAvg",qb:la});w.Ic([{id:"s63",name:"_",aa:"attribute vec2 a0;uniform vec2 u46;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=vec2(.5,.5)+u46*a0;}",
ka:["a0"],da:[2],a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",c:["u1","u46"],precision:"lowp"},{id:"s64",name:"_",a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",aa:"attribute vec2 a0;uniform sampler2D u48;uniform vec2 u49;varying vec2 vv0;void main(){vec4 a=texture2D(u48,vec2(.17,.5));vec2 b=a.gb,c=a.a*u49;vv0=b+a0*.5*c,gl_Position=vec4(a0,0.,1.);}",ka:["a0"],da:[2],c:["u1","u48","u49"],precision:"lowp"},{id:"s65",name:"_",
a:"uniform sampler2D u50,u48;uniform vec3 u51,u52;uniform float u53,u54,u55,u56,u57;const vec4 k=vec4(1.,1.,1.,1.),l=vec4(0.,0.,0.,0.),e=vec4(.25,.25,.25,.25);void main(){vec4 c=texture2D(u50,vec2(.5,.5)),d=texture2D(u50,vec2(.75,.5));float f=dot(e,texture2D(u50,vec2(.75,.75))),g=dot(e,texture2D(u50,vec2(0.,.5))),h=dot(e,texture2D(u50,vec2(.25,.5)));vec4 a=texture2D(u48,vec2(.25,.5));float b=dot(c,e),i=dot(d,e);bool j=b>u56&&b>i+u57;j?a.r=2.:a.r>u55?a.r=0.:a.r>1.9&&(a.a>u54||a.a<u53)?a.r=0.:a.r>1.9?a.r+=1.:0.;if(a.r<.9)a=vec4(1.,u51);else a.r*=step(1.9,a.r),a.gba+=vec3(f,g,h)*u52*a.a;gl_FragColor=a;}",
aa:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",c:"u50 u48 u51 u53 u54 u55 u52 u56 u57".split(" ")},{id:"s66",name:"_",aa:"attribute vec2 a0;void main(){gl_Position=vec4(a0,0.,1.);}",a:"uniform sampler2D u50;const vec4 e=vec4(.25,.25,.25,.25);const vec3 f=vec3(.5,.5,.5);void main(){float a=dot(e,texture2D(u50,vec2(0.,.75))),b=dot(e,texture2D(u50,vec2(.25,.75))),c=dot(e,texture2D(u50,vec2(.5,.75))),d=dot(e,texture2D(u50,vec2(.5,.5)));vec3 g=vec3(a,b,c)*.5+f;gl_FragColor=vec4(g,d);}",
c:["u50"]},{id:"s55",name:"_",a:"uniform sampler2D u48;uniform float u58;varying vec2 vv0;void main(){float f=step(.5,vv0.y),c=step(.5,vv0.x);vec4 a=texture2D(u48,vec2(vv0.x,.5));a.a=mix(a.a*u58,a.a,c);vec4 d=floor(255.*a),g=255.*(255.*a-d),b=mix(d,g,f)/255.;b.x=mix(step(a.x,1.5),b.x,c),gl_FragColor=b;}",c:["u48","u58"]},{id:"s56",name:"_",a:"uniform sampler2D u48,u59;uniform vec2 u49;varying vec2 vv0;void main(){vec2 a=vec2(1.-vv0.x,vv0.y);vec4 d=texture2D(u48,vec2(.25,.5));vec2 b=d.gb;float h=d.a;vec2 c=h*u49,i=b+c/2.,j=b-c/2.,f=step(j,a)*step(a,i);vec3 k=texture2D(u59,a).rgb;vec2 g=2.*abs(b-a)/c;float l=f.x*f.y*pow(max(g.x,g.y),3.);vec3 m=mix(k,vec3(0.,.6,1.),l);gl_FragColor=vec4(m,1.);}",
c:["u48","u59","u49"]},{id:"s57",name:"_",a:"varying vec2 vv0;uniform sampler2D u1;uniform vec2 u27;uniform float u40;const vec3 f=vec3(.3333,.3333,.3333);void main(){vec3 a=vec3(0.);a-=texture2D(u1,vec2(vv0.x-u27.x,vv0.y-u27.y)).rgb*1.,a-=texture2D(u1,vec2(vv0.x-u27.x,vv0.y)).rgb*2.,a-=texture2D(u1,vec2(vv0.x-u27.x,vv0.y+u27.y)).rgb*1.,a+=texture2D(u1,vec2(vv0.x+u27.x,vv0.y-u27.y)).rgb*1.,a+=texture2D(u1,vec2(vv0.x+u27.x,vv0.y)).rgb*2.,a+=texture2D(u1,vec2(vv0.x+u27.x,vv0.y+u27.y)).rgb*1.;vec3 b=vec3(0.);b-=texture2D(u1,vec2(vv0.x-u27.x,vv0.y-u27.y)).rgb*1.,b-=texture2D(u1,vec2(vv0.x,vv0.y-u27.y)).rgb*2.,b-=texture2D(u1,vec2(vv0.x+u27.x,vv0.y-u27.y)).rgb*1.,b+=texture2D(u1,vec2(vv0.x-u27.x,vv0.y+u27.y)).rgb*1.,b+=texture2D(u1,vec2(vv0.x,vv0.y+u27.y)).rgb*2.,b+=texture2D(u1,vec2(vv0.x+u27.x,vv0.y+u27.y)).rgb*1.;vec3 e=a*a+b*b,g=texture2D(u1,vv0).rgb;float c=dot(e,f),h=dot(g,f);c=smoothstep(u40-.1,u40+.1,c),gl_FragColor=vec4(c,h,0.,1.);}",
aa:"attribute vec2 a0;uniform vec2 u4,u38;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u38+u4*a0,vv0=.5*vv0+vec2(.5,.5);}",ka:["a0"],da:[2],c:["u1","u4","u38","u27","u40"]},{id:"s58",name:"_",a:"uniform sampler2D u1;varying vec2 vv0;void main(){gl_FragColor=texture2D(u1,vv0);}",aa:"attribute vec2 a0;uniform vec2 u4,u38;varying vec2 vv0;void main(){gl_Position=vec4(a0,0.,1.),vv0=u38+u4*a0,vv0=.5*vv0+vec2(.5,.5);}",ka:["a0"],da:[2],c:["u1","u4","u38"]},{id:"s59",name:"_",a:"uniform sampler2D u1;uniform vec2 u42,u32;uniform float u41;varying vec2 vv0;const float n=3.141592;const int o=4;int j(vec2 a,vec3 d){vec3 b=texture2D(u1,a).rgb;float c=length(b);return int(step(c,u41));}void main(){vec2 c=u42.x*vec2(1.,1.)+vv0*u42.y;vec3 k=texture2D(u1,c).rgb;float d=0.,e,f;int a;vec2 l,g,b;for(float h=0.;h<60.;h+=1.){e=0.,a=o,f=h*n/60.,l=vec2(cos(f),sin(f));for(float i=0.;i<255.;i+=1.){g=(u32.x/2.+i/255.*(u32.y-u32.x)/2.)*l;if(a>0)b=c+g,a-=1-j(b,k),b=c-g,a-=1-j(b,k),e+=1.;}d=max(e,d);}gl_FragColor=vec4(d/255.,0,0,1.);}",
c:["u1","u42","u32","u41"]},{id:"s60",name:"_",a:"uniform sampler2D u1;uniform vec2 u38;uniform float u43,u44;const vec3 f=vec3(0.,1.,0.);varying vec2 vv0;void main(){vec2 b=vec2(1.,u44);float d=distance(vv0*b,u38*b),g=step(abs(d-u43),1e-3);vec3 c=texture2D(u1,vv0).rgb,a=c.g*vec3(1.,1.,1.);a.r+=c.r,a=mix(a,f,g),gl_FragColor=vec4(a,1.);}",c:["u1","u38","u43","u44"]},{id:"s61",name:"_",a:"uniform sampler2D u1;uniform vec2 u38;uniform float u45;const vec3 f=vec3(0.,1.,0.),g=vec3(0.,1.,0.);varying vec2 vv0;void main(){float b=step(abs(distance(vv0,u38)-u45),2e-3),c=step(distance(vv0,u38),4e-3);vec3 d=texture2D(u1,vv0).rgb,a=d;a=mix(a,f,b),a=mix(a,g,c),gl_FragColor=vec4(a,1.);}",
c:["u1","u38","u45"]},{id:"s62",name:"_",a:"uniform sampler2D u1;varying vec2 vv0;void main(){float a=texture2D(u1,vv0).r;gl_FragColor=vec4(a,0.,0.,1.);}",c:["u1"]}]);v();Aa=Va.instance({width:c.eb,ub:c.Cc,qc:c.Bc,wc:c.Dc});E();n();y();Ca.update_controls()});return!0},toggle_pause:function(m){if(-1!==[X.play,X.pause,X.ga].indexOf(ja))return m?-1===[X.play,X.ga].indexOf(ja)?m=!1:(ea&&(clearTimeout(ea),ea=!1),fa&&(window.cancelAnimationFrame(fa),fa=!1),ja=X.pause,m=!0):m=F(),m},toggle_slow:function(m){-1!==
[X.play,X.pause,X.ga].indexOf(ja)&&-1!==[X.play,X.ga].indexOf(ja)&&(ja=m?X.ga:X.play)},set_animateDelay:function(m){W.Ua=m},resize:function(){var m=W.W.width,y=W.W.height;if(m===H&&y===ia)return!1;H=m;ia=y;E();n();p();J();return!0},update_controls:function(){function m(ha){return(ha=document.getElementById(ha))?parseFloat(ha.value):!1}var y=m("jeePupilControlIrisEdgeSize");!1!==y&&(ra=y,J());y=m("jeePupilControlIrisThres");!1!==y&&(na=y);y=m("jeePupilControlIrisRoundness");!1!==y&&Aa.Od(y);y=m("jeePupilControlPupilSensitivity");
!1!==y&&(pa=y)}};return Ca}();
;return JEEPUPILAPI||window.JEEPUPILAPI;})();